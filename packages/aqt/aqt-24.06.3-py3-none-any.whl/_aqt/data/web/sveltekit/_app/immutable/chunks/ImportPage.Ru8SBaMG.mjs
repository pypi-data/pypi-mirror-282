import{S as U,i as P,s as Q,V as A,h as q,n as W,f as p,l as Le,e as w,a as O,t as L,c as E,b as T,ac as De,g as H,d as R,D as N,M as ie,j as b,k as Y,A as ae,B as S,C as B,N as F,F as V,v,r as y,H as M,U as z,I as x,O as qe,J as ee,K as te,L as se,q as K,u as X,Q as Re,R as je,_ as Z,$ as G,a1 as Ce,a2 as Ne,a3 as Ue}from"./Component.-XTVY6ph.mjs";import"./index.HrFqG6o2.mjs";import{q as fe,w as Pe,x as Qe}from"./backend.pzQSPd-R.mjs";import{r as We}from"./progress.K1KExmpd.mjs";import{p as ze}from"./theme.0LplNH_j.mjs";import{C as Oe}from"./Container.T7flwP-u.mjs";import{aW as Ye,aX as Je,aY as Ke,aZ as Xe,a_ as Ze,a$ as He,b0 as re,b1 as Ge,b2 as Se,b3 as Be,b4 as xe,b5 as et,b6 as tt,b7 as st,b8 as nt,b9 as lt,ba as rt,bb as ot,bc as it,bd as at,be as ft,bf as ut,bg as ue}from"./ftl.cKofWsqB.mjs";import{g as Ve,S as Me,n as ct,h as mt,u as dt,j as ht,k as _t,I as pt}from"./Shortcut.F_v_rQsz.mjs";import{L as Fe}from"./LabelButton.cYtwXhrB.mjs";import{e as ne,u as gt,o as bt}from"./each.mrBeHWFK.mjs";import{a as $t}from"./bridgecommand._LcBipD7.mjs";import{I as vt}from"./IconButton.NEW1XP5_.mjs";import{W as kt}from"./WithTooltip.ERYnIwCM.mjs";function ce(l){let e,s,t='<div class="svelte-1qq8uvv"></div> <div class="svelte-1qq8uvv"></div> <div class="svelte-1qq8uvv"></div> <div class="svelte-1qq8uvv"></div>',n,r,o;return{c(){e=w("div"),s=w("div"),s.innerHTML=t,n=O(),r=w("div"),o=L(l[1]),this.h()},l(a){e=E(a,"DIV",{class:!0});var i=T(e);s=E(i,"DIV",{class:!0,"data-svelte-h":!0}),De(s)!=="svelte-1eyhx88"&&(s.innerHTML=t),n=H(i),r=E(i,"DIV",{id:!0,class:!0});var f=T(r);o=R(f,l[1]),f.forEach(p),i.forEach(p),this.h()},h(){N(s,"class","spinner svelte-1qq8uvv"),ie(s,"nightMode",l[2].isDark),N(r,"id","label"),N(r,"class","svelte-1qq8uvv"),N(e,"class","progress svelte-1qq8uvv")},m(a,i){q(a,e,i),b(e,s),b(e,n),b(e,r),b(r,o)},p(a,i){i&4&&ie(s,"nightMode",a[2].isDark),i&2&&Y(o,a[1])},d(a){a&&p(e)}}}function wt(l){let e,s=!l[0]&&ce(l);return{c(){s&&s.c(),e=A()},l(t){s&&s.l(t),e=A()},m(t,n){s&&s.m(t,n),q(t,e,n)},p(t,[n]){t[0]?s&&(s.d(1),s=null):s?s.p(t,n):(s=ce(t),s.c(),s.m(e.parentNode,e))},i:W,o:W,d(t){t&&p(e),s&&s.d(t)}}}function Et(l,e,s){let t;Le(l,ze,f=>s(2,t=f));let{task:n}=e,{result:r}=e,{error:o}=e,a="";function i(f){f.value.value&&f.value.case!=="none"&&a!==f.value.value.toString()&&s(1,a=f.value.value.toString())}return l.$$set=f=>{"task"in f&&s(4,n=f.task),"result"in f&&s(0,r=f.result),"error"in f&&s(3,o=f.error)},l.$$.update=()=>{l.$$.dirty&25&&(async()=>{if(!r&&!o)try{s(0,r=await We(n,i))}catch(f){if(f instanceof Error)s(3,o=f);else throw f}})()},[r,a,t,o,n]}class yt extends U{constructor(e){super(),P(this,e,Et,wt,Q,{task:4,result:0,error:3})}}function Tt(l){let e,s=l[0].message+"",t;return{c(){e=w("div"),t=L(s),this.h()},l(n){e=E(n,"DIV",{class:!0});var r=T(e);t=R(r,s),r.forEach(p),this.h()},h(){N(e,"class","message svelte-1ebpei3")},m(n,r){q(n,e,r),b(e,t)},p(n,[r]){r&1&&s!==(s=n[0].message+"")&&Y(t,s)},i:W,o:W,d(n){n&&p(e)}}}function It(l,e,s){let{error:t}=e;return l.$$set=n=>{"error"in n&&s(0,t=n.error)},[t]}class Dt extends U{constructor(e){super(),P(this,e,It,Tt,Q,{error:0})}}function qt(l){let e,s=Ye()+"",t;return{c(){e=w("div"),t=L(s),this.h()},l(n){e=E(n,"DIV",{class:!0});var r=T(e);t=R(r,s),r.forEach(p),this.h()},h(){N(e,"class","import svelte-15dj8ey")},m(n,r){q(n,e,r),b(e,t)},p:W,d(n){n&&p(e)}}}function Ct(l){let e,s,t=de(l[0])+"",n,r,o,a,i,f,d,c;return a=new Fe({props:{primary:!0,tooltip:Ve(me),$$slots:{default:[qt]},$$scope:{ctx:l}}}),a.$on("click",function(){ae(l[1])&&l[1].apply(this,arguments)}),d=new Me({props:{keyCombination:me}}),d.$on("action",function(){ae(l[1])&&l[1].apply(this,arguments)}),{c(){e=w("div"),s=w("div"),n=L(t),r=O(),o=w("div"),i=w("div"),S(a.$$.fragment),f=O(),S(d.$$.fragment),this.h()},l(u){e=E(u,"DIV",{class:!0});var k=T(e);s=E(k,"DIV",{class:!0});var _=T(s);n=R(_,t),_.forEach(p),r=H(k),o=E(k,"DIV",{class:!0});var m=T(o);i=E(m,"DIV",{style:!0});var I=T(i);B(a.$$.fragment,I),f=H(m),B(d.$$.fragment,m),m.forEach(p),k.forEach(p),this.h()},h(){N(s,"class","filename svelte-15dj8ey"),F(i,"display","contents"),F(i,"--border-left-radius","5px"),F(i,"--border-right-radius","5px"),N(o,"class","accept"),N(e,"class","sticky-header d-flex flex-row justify-content-between svelte-15dj8ey")},m(u,k){q(u,e,k),b(e,s),b(s,n),b(e,r),b(e,o),b(o,i),V(a,i,null),b(o,f),V(d,o,null),c=!0},p(u,[k]){l=u,(!c||k&1)&&t!==(t=de(l[0])+"")&&Y(n,t);const _={};k&4&&(_.$$scope={dirty:k,ctx:l}),a.$set(_)},i(u){c||(v(a.$$.fragment,u),v(d.$$.fragment,u),c=!0)},o(u){y(a.$$.fragment,u),y(d.$$.fragment,u),c=!1},d(u){u&&p(e),M(a),M(d)}}}const me="Control+Enter";function de(l){return l.split(/[\\/]/).pop()}function Nt(l,e,s){let{path:t}=e,{onImport:n}=e;return l.$$set=r=>{"path"in r&&s(0,t=r.path),"onImport"in r&&s(1,n=r.onImport)},[t,n]}class Ot extends U{constructor(e){super(),P(this,e,Nt,Ct,Q,{path:0,onImport:1})}}function Ht(l){let e,s=Je()+"",t;return{c(){e=w("div"),t=L(s),this.h()},l(n){e=E(n,"DIV",{class:!0});var r=T(e);t=R(r,s),r.forEach(p),this.h()},h(){N(e,"class","close svelte-dykoi9")},m(n,r){q(n,e,r),b(e,t)},p:W,d(n){n&&p(e)}}}function St(l){let e,s,t,n,r,o;return s=new Fe({props:{primary:!0,tooltip:Ve(he),$$slots:{default:[Ht]},$$scope:{ctx:l}}}),s.$on("click",l[1]),r=new Me({props:{keyCombination:he}}),r.$on("action",l[1]),{c(){e=w("div"),t=w("div"),S(s.$$.fragment),n=O(),S(r.$$.fragment),this.h()},l(a){e=E(a,"DIV",{class:!0});var i=T(e);t=E(i,"DIV",{style:!0});var f=T(t);B(s.$$.fragment,f),n=H(i),B(r.$$.fragment,i),i.forEach(p),this.h()},h(){F(t,"display","contents"),F(t,"--border-left-radius","5px"),F(t,"--border-right-radius","5px"),N(e,"class","fixed-header d-flex flex-row-reverse justify-content-between desktop-only svelte-dykoi9")},m(a,i){q(a,e,i),b(e,t),V(s,t,null),b(e,n),V(r,e,null),l[2](e),o=!0},p(a,[i]){const f={};i&8&&(f.$$scope={dirty:i,ctx:a}),s.$set(f)},i(a){o||(v(s.$$.fragment,a),v(r.$$.fragment,a),o=!0)},o(a){y(s.$$.fragment,a),y(r.$$.fragment,a),o=!1},d(a){a&&p(e),M(s),M(r),l[2](null)}}}const he="Control+Enter";function Bt(l,e,s){let{container:t}=e;function n(){$t("close")}function r(o){z[o?"unshift":"push"](()=>{t=o,s(0,t)})}return l.$$set=o=>{"container"in o&&s(0,t=o.container)},[t,n,r]}class Vt extends U{constructor(e){super(),P(this,e,Bt,St,Q,{container:0})}}function _e(l,e,s){const t=l.slice();return t[15]=e[s],t}const Mt=l=>({index:l&256}),pe=l=>({index:l[15]}),Ft=l=>({}),ge=l=>({});function be(l){let e,s;return{c(){e=w("tr"),s=w("td"),this.h()},l(t){e=E(t,"TR",{});var n=T(e);s=E(n,"TD",{style:!0}),T(s).forEach(p),n.forEach(p),this.h()},h(){F(s,"height",l[2]*l[6]+"px")},m(t,n){q(t,e,n),b(e,s)},p(t,n){n&68&&F(s,"height",t[2]*t[6]+"px")},d(t){t&&p(e)}}}function $e(l,e){let s,t;const n=e[12].row,r=x(n,e,e[11],pe);return{key:l,first:null,c(){s=A(),r&&r.c(),this.h()},l(o){s=A(),r&&r.l(o),this.h()},h(){this.first=s},m(o,a){q(o,s,a),r&&r.m(o,a),t=!0},p(o,a){e=o,r&&r.p&&(!t||a&2304)&&ee(r,n,e,e[11],t?se(n,e[11],a,Mt):te(e[11]),pe)},i(o){t||(v(r,o),t=!0)},o(o){y(r,o),t=!1},d(o){o&&p(s),r&&r.d(o)}}}function ve(l){let e,s;return{c(){e=w("tr"),s=w("td"),this.h()},l(t){e=E(t,"TR",{});var n=T(e);s=E(n,"TD",{style:!0}),T(s).forEach(p),n.forEach(p),this.h()},h(){F(s,"height",l[2]*l[1]-l[2]*l[7]+"px")},m(t,n){q(t,e,n),b(e,s)},p(t,n){n&134&&F(s,"height",t[2]*t[1]-t[2]*t[7]+"px")},d(t){t&&p(e)}}}function At(l){let e,s,t,n,r,o,a=[],i=new Map,f,d,c,u,k;const _=l[12].headers,m=x(_,l,l[11],ge);let I=l[2]*l[6]>0&&be(l),h=ne(l[8]);const $=g=>g[15];for(let g=0;g<h.length;g+=1){let D=_e(l,h,g),j=$(D);i.set(j,a[g]=$e(j,D))}let C=l[2]*l[1]-l[2]*l[7]>0&&ve(l);return{c(){e=w("div"),s=w("table"),t=w("thead"),m&&m.c(),n=O(),r=w("tbody"),I&&I.c(),o=O();for(let g=0;g<a.length;g+=1)a[g].c();f=O(),C&&C.c(),this.h()},l(g){e=E(g,"DIV",{class:!0,style:!0});var D=T(e);s=E(D,"TABLE",{class:!0,tabindex:!0});var j=T(s);t=E(j,"THEAD",{});var oe=T(t);m&&m.l(oe),oe.forEach(p),n=H(j),r=E(j,"TBODY",{});var J=T(r);I&&I.l(J),o=H(J);for(let le=0;le<a.length;le+=1)a[le].l(J);f=H(J),C&&C.l(J),J.forEach(p),j.forEach(p),D.forEach(p),this.h()},h(){N(s,"class",d="table "+l[0]+" svelte-171uql0"),N(s,"tabindex","-1"),N(e,"class","outer svelte-171uql0"),F(e,"--container-height",l[5]+1+"px")},m(g,D){q(g,e,D),b(e,s),b(s,t),m&&m.m(t,null),b(s,n),b(s,r),I&&I.m(r,null),b(r,o);for(let j=0;j<a.length;j+=1)a[j]&&a[j].m(r,null);b(r,f),C&&C.m(r,null),l[13](e),c=!0,u||(k=qe(e,"scroll",l[14]),u=!0)},p(g,[D]){m&&m.p&&(!c||D&2048)&&ee(m,_,g,g[11],c?se(_,g[11],D,Ft):te(g[11]),ge),g[2]*g[6]>0?I?I.p(g,D):(I=be(g),I.c(),I.m(r,o)):I&&(I.d(1),I=null),D&2304&&(h=ne(g[8]),K(),a=gt(a,D,$,1,g,h,i,r,bt,$e,f,_e),X()),g[2]*g[1]-g[2]*g[7]>0?C?C.p(g,D):(C=ve(g),C.c(),C.m(r,null)):C&&(C.d(1),C=null),(!c||D&1&&d!==(d="table "+g[0]+" svelte-171uql0"))&&N(s,"class",d),(!c||D&32)&&F(e,"--container-height",g[5]+1+"px")},i(g){if(!c){v(m,g);for(let D=0;D<h.length;D+=1)v(a[D]);c=!0}},o(g){y(m,g);for(let D=0;D<a.length;D+=1)y(a[D]);c=!1},d(g){g&&p(e),m&&m.d(g),I&&I.d();for(let D=0;D<a.length;D+=1)a[D].d();C&&C.d(),l[13](null),u=!1,k()}}}function Lt(l,e,s){let t,n,r,o,a,{$$slots:i={},$$scope:f}=e,{class:d=""}=e,{itemsCount:c=0}=e,{itemHeight:u}=e,{bottomOffset:k=0}=e,_,m=0;window.addEventListener("resize",()=>{s(5,t),s(3,_),s(9,k),s(2,u)});function I($){z[$?"unshift":"push"](()=>{_=$,s(3,_)})}const h=()=>s(4,m=_.scrollTop);return l.$$set=$=>{"class"in $&&s(0,d=$.class),"itemsCount"in $&&s(1,c=$.itemsCount),"itemHeight"in $&&s(2,u=$.itemHeight),"bottomOffset"in $&&s(9,k=$.bottomOffset),"$$scope"in $&&s(11,f=$.$$scope)},l.$$.update=()=>{l.$$.dirty&524&&s(5,t=_?Math.floor((document.documentElement.clientHeight-_.offsetTop-k)/u)*u:0),l.$$.dirty&36&&s(10,n=Math.ceil(t/u)),l.$$.dirty&20&&s(6,r=Math.floor(m/u)),l.$$.dirty&1090&&s(7,o=Math.min(r+n,c)),l.$$.dirty&192&&s(8,a=new Array(o-r).fill(0).map(($,C)=>r+C))},[d,c,u,_,m,t,r,o,a,k,n,f,i,I,h]}class Rt extends U{constructor(e){super(),P(this,e,Lt,At,Q,{class:0,itemsCount:1,itemHeight:2,bottomOffset:9})}}function jt(l){let e,s;l.dupeResolution===fe.DUPLICATE?(e=rt(),s=ot()):l.dupeResolution===fe.PRESERVE?(e=He(),s=re()):(e=Se(),s=Be());const t={reason:e,notes:l.firstFieldMatch};return{action:s,queue:t}}function Ut(l){const e=[{queues:[{notes:l.new,reason:Ke()}],action:Xe(),summaryTemplate:Ze,canBrowse:!0,icon:ct},{queues:[{notes:l.duplicate,reason:He()}],action:re(),summaryTemplate:Ge,canBrowse:!0,icon:mt},{queues:[{notes:l.updated,reason:Se()}],action:Be(),summaryTemplate:xe,canBrowse:!0,icon:dt},{queues:[{notes:l.conflicting,reason:et()},{notes:l.missingNotetype,reason:tt()},{notes:l.missingDeck,reason:st()},{notes:l.emptyFirstField,reason:nt()}],action:re(),summaryTemplate:lt,canBrowse:!1,icon:ht}],s=jt(l);for(const t of e)if(t.action===s.action){t.queues.push(s.queue);break}return e}function Pt(l){const e=[];for(const s of l)for(const t of s.queues)if(t.notes)for(const n of t.notes)e.push({summary:s,queue:t,note:n});return e}function Ae(l){Pe({filter:{case:"nids",value:{ids:l.map(e=>e.id.nid)}}})}function Qt(l){let e,s;const t=l[3].default,n=x(t,l,l[2],null);return{c(){e=w("td"),n&&n.c(),this.h()},l(r){e=E(r,"TD",{class:!0});var o=T(e);n&&n.l(o),o.forEach(p),this.h()},h(){N(e,"class",l[0])},m(r,o){q(r,e,o),n&&n.m(e,null),l[4](e),s=!0},p(r,[o]){n&&n.p&&(!s||o&4)&&ee(n,t,r,r[2],s?se(t,r[2],o,null):te(r[2]),null),(!s||o&1)&&N(e,"class",r[0])},i(r){s||(v(n,r),s=!0)},o(r){y(n,r),s=!1},d(r){r&&p(e),n&&n.d(r),l[4](null)}}}function Wt(l,e,s){let{$$slots:t={},$$scope:n}=e,{class:r=""}=e;const o=Re();let a;je(async()=>{o("mount",{element:a})});function i(f){z[f?"unshift":"push"](()=>{a=f,s(1,a)})}return l.$$set=f=>{"class"in f&&s(0,r=f.class),"$$scope"in f&&s(2,n=f.$$scope)},[r,a,n,t,i]}class zt extends U{constructor(e){super(),P(this,e,Wt,Qt,Q,{class:0})}}function Yt(l){let e;const s=l[2].default,t=x(s,l,l[4],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,r){t&&t.m(n,r),e=!0},p(n,r){t&&t.p&&(!e||r&16)&&ee(t,s,n,n[4],e?se(s,n[4],r,null):te(n[4]),null)},i(n){e||(v(t,n),e=!0)},o(n){y(t,n),e=!1},d(n){t&&t.d(n)}}}function Jt(l){let e,s;function t(...n){return l[3](l[5],...n)}return e=new zt({props:{class:l[0],$$slots:{default:[Yt]},$$scope:{ctx:l}}}),e.$on("mount",t),{c(){S(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,r){V(e,n,r),s=!0},p(n,r){l=n;const o={};r&1&&(o.class=l[0]),r&16&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(n){s||(v(e.$$.fragment,n),s=!0)},o(n){y(e.$$.fragment,n),s=!1},d(n){M(e,n)}}}function Kt(l){let e,s;return e=new kt({props:{tooltip:l[1],$$slots:{default:[Jt,({createTooltip:t})=>({5:t}),({createTooltip:t})=>t?32:0]},$$scope:{ctx:l}}}),{c(){S(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){V(e,t,n),s=!0},p(t,[n]){const r={};n&2&&(r.tooltip=t[1]),n&49&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){s||(v(e.$$.fragment,t),s=!0)},o(t){y(e.$$.fragment,t),s=!1},d(t){M(e,t)}}}function Xt(l,e,s){let{$$slots:t={},$$scope:n}=e,{class:r=""}=e,{tooltip:o}=e;const a=(i,f)=>i(f.detail.element);return l.$$set=i=>{"class"in i&&s(0,r=i.class),"tooltip"in i&&s(1,o=i.tooltip),"$$scope"in i&&s(4,n=i.$$scope)},[r,o,t,a,n]}class ke extends U{constructor(e){super(),P(this,e,Xt,Kt,Q,{class:0,tooltip:1})}}function Zt(l){let e,s,t="#",n,r,o=at()+"",a,i,f,d=ft()+"",c,u,k;return{c(){e=w("tr"),s=w("th"),s.textContent=t,n=O(),r=w("th"),a=L(o),i=O(),f=w("th"),c=L(d),u=O(),k=w("th"),this.h()},l(_){e=E(_,"TR",{slot:!0,class:!0});var m=T(e);s=E(m,"TH",{"data-svelte-h":!0}),De(s)!=="svelte-7cs45d"&&(s.textContent=t),n=H(m),r=E(m,"TH",{});var I=T(r);a=R(I,o),I.forEach(p),i=H(m),f=E(m,"TH",{});var h=T(f);c=R(h,d),h.forEach(p),u=H(m),k=E(m,"TH",{}),T(k).forEach(p),m.forEach(p),this.h()},h(){N(e,"slot","headers"),N(e,"class","svelte-1xkt4lk")},m(_,m){q(_,e,m),b(e,s),b(e,n),b(e,r),b(r,a),b(e,i),b(e,f),b(f,c),b(e,u),b(e,k)},p:W,d(_){_&&p(e)}}}function Gt(l){let e=l[1][l[5]].summary.action+"",s;return{c(){s=L(e)},l(t){s=R(t,e)},m(t,n){q(t,s,n)},p(t,n){n&34&&e!==(e=t[1][t[5]].summary.action+"")&&Y(s,e)},d(t){t&&p(s)}}}function xt(l){let e=l[1][l[5]].note.fields.join(",")+"",s;return{c(){s=L(e)},l(t){s=R(t,e)},m(t,n){q(t,s,n)},p(t,n){n&34&&e!==(e=t[1][t[5]].note.fields.join(",")+"")&&Y(s,e)},d(t){t&&p(s)}}}function es(l){let e,s;return{c(){e=new Ce(!1),s=A(),this.h()},l(t){e=Ne(t,!1),s=A(),this.h()},h(){e.a=s},m(t,n){e.m(_t,t,n),q(t,s,n)},p:W,d(t){t&&(p(s),e.d())}}}function ts(l){let e,s,t=l[5]+1+"",n,r,o,a,i,f,d,c,u;o=new ke({props:{class:"status-cell",tooltip:l[1][l[5]].queue.reason,$$slots:{default:[Gt]},$$scope:{ctx:l}}}),i=new ke({props:{class:"contents-cell",tooltip:l[1][l[5]].note.fields.join(","),$$slots:{default:[xt]},$$scope:{ctx:l}}});function k(){return l[3](l[5])}return c=new vt({props:{class:"search-icon",iconSize:100,active:!1,disabled:!l[1][l[5]].summary.canBrowse,$$slots:{default:[es]},$$scope:{ctx:l}}}),c.$on("click",k),{c(){e=w("tr"),s=w("td"),n=L(t),r=O(),S(o.$$.fragment),a=O(),S(i.$$.fragment),f=O(),d=w("td"),S(c.$$.fragment),this.h()},l(_){e=E(_,"TR",{class:!0});var m=T(e);s=E(m,"TD",{class:!0});var I=T(s);n=R(I,t),I.forEach(p),r=H(m),B(o.$$.fragment,m),a=H(m),B(i.$$.fragment,m),f=H(m),d=E(m,"TD",{class:!0});var h=T(d);B(c.$$.fragment,h),h.forEach(p),m.forEach(p),this.h()},h(){N(s,"class","index-cell svelte-1xkt4lk"),N(d,"class","search-cell"),N(e,"class","svelte-1xkt4lk")},m(_,m){q(_,e,m),b(e,s),b(s,n),b(e,r),V(o,e,null),b(e,a),V(i,e,null),b(e,f),b(e,d),V(c,d,null),u=!0},p(_,m){l=_,(!u||m&32)&&t!==(t=l[5]+1+"")&&Y(n,t);const I={};m&34&&(I.tooltip=l[1][l[5]].queue.reason),m&98&&(I.$$scope={dirty:m,ctx:l}),o.$set(I);const h={};m&34&&(h.tooltip=l[1][l[5]].note.fields.join(",")),m&98&&(h.$$scope={dirty:m,ctx:l}),i.$set(h);const $={};m&34&&($.disabled=!l[1][l[5]].summary.canBrowse),m&64&&($.$$scope={dirty:m,ctx:l}),c.$set($)},i(_){u||(v(o.$$.fragment,_),v(i.$$.fragment,_),v(c.$$.fragment,_),u=!0)},o(_){y(o.$$.fragment,_),y(i.$$.fragment,_),y(c.$$.fragment,_),u=!1},d(_){_&&p(e),M(o),M(i),M(c)}}}function ss(l){let e,s,t=it()+"",n,r,o,a,i;function f(c){l[4](c)}let d={class:"details-table",itemHeight:50,itemsCount:l[1].length,$$slots:{row:[ts,({index:c})=>({5:c}),({index:c})=>c?32:0],headers:[Zt]},$$scope:{ctx:l}};return l[0]!==void 0&&(d.bottomOffset=l[0]),o=new Rt({props:d}),z.push(()=>Z(o,"bottomOffset",f)),{c(){e=w("details"),s=w("summary"),n=L(t),r=O(),S(o.$$.fragment)},l(c){e=E(c,"DETAILS",{});var u=T(e);s=E(u,"SUMMARY",{});var k=T(s);n=R(k,t),k.forEach(p),r=H(u),B(o.$$.fragment,u),u.forEach(p)},m(c,u){q(c,e,u),b(e,s),b(s,n),b(e,r),V(o,e,null),i=!0},p(c,[u]){const k={};u&2&&(k.itemsCount=c[1].length),u&98&&(k.$$scope={dirty:u,ctx:c}),!a&&u&1&&(a=!0,k.bottomOffset=c[0],G(()=>a=!1)),o.$set(k)},i(c){i||(v(o.$$.fragment,c),i=!0)},o(c){y(o.$$.fragment,c),i=!1},d(c){c&&p(e),M(o)}}}function ns(l,e,s){let t,{summaries:n}=e,{bottomOffset:r=0}=e;const o=i=>{Ae([t[i].note])};function a(i){r=i,s(0,r)}return l.$$set=i=>{"summaries"in i&&s(2,n=i.summaries),"bottomOffset"in i&&s(0,r=i.bottomOffset)},l.$$.update=()=>{l.$$.dirty&4&&s(1,t=Pt(n))},[r,t,n,o,a]}class ls extends U{constructor(e){super(),P(this,e,ns,ss,Q,{summaries:2,bottomOffset:0})}}function we(l){let e,s,t,n=l[0].summaryTemplate({count:l[1].length})+"",r,o,a;s=new pt({props:{$$slots:{default:[rs]},$$scope:{ctx:l}}});let i=l[0].canBrowse&&Ee(l);return{c(){e=w("li"),S(s.$$.fragment),t=O(),r=L(n),o=O(),i&&i.c(),this.h()},l(f){e=E(f,"LI",{class:!0});var d=T(e);B(s.$$.fragment,d),t=H(d),r=R(d,n),o=H(d),i&&i.l(d),d.forEach(p),this.h()},h(){N(e,"class","svelte-ohwq2k")},m(f,d){q(f,e,d),V(s,e,null),b(e,t),b(e,r),b(e,o),i&&i.m(e,null),a=!0},p(f,d){const c={};d&9&&(c.$$scope={dirty:d,ctx:f}),s.$set(c),(!a||d&3)&&n!==(n=f[0].summaryTemplate({count:f[1].length})+"")&&Y(r,n),f[0].canBrowse?i?i.p(f,d):(i=Ee(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i(f){a||(v(s.$$.fragment,f),a=!0)},o(f){y(s.$$.fragment,f),a=!1},d(f){f&&p(e),M(s),i&&i.d()}}}function rs(l){let e,s=l[0].icon+"",t;return{c(){e=new Ce(!1),t=A(),this.h()},l(n){e=Ne(n,!1),t=A(),this.h()},h(){e.a=t},m(n,r){e.m(s,n,r),q(n,t,r)},p(n,r){r&1&&s!==(s=n[0].icon+"")&&e.p(s)},d(n){n&&(p(t),e.d())}}}function Ee(l){let e,s=ut()+"",t,n,r;return{c(){e=w("button"),t=L(s),this.h()},l(o){e=E(o,"BUTTON",{class:!0});var a=T(e);t=R(a,s),a.forEach(p),this.h()},h(){N(e,"class","desktop-only")},m(o,a){q(o,e,a),b(e,t),n||(r=qe(e,"click",l[2]),n=!0)},p:W,d(o){o&&p(e),n=!1,r()}}}function os(l){let e,s,t=l[1].length&&we(l);return{c(){t&&t.c(),e=A()},l(n){t&&t.l(n),e=A()},m(n,r){t&&t.m(n,r),q(n,e,r),s=!0},p(n,[r]){n[1].length?t?(t.p(n,r),r&2&&v(t,1)):(t=we(n),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(K(),y(t,1,1,()=>{t=null}),X())},i(n){s||(v(t),s=!0)},o(n){y(t),s=!1},d(n){n&&p(e),t&&t.d(n)}}}function is(l,e,s){let t,{summary:n}=e;function r(o){Ae(t),o.preventDefault()}return l.$$set=o=>{"summary"in o&&s(0,n=o.summary)},l.$$.update=()=>{l.$$.dirty&1&&s(1,t=n.queues.map(o=>o.notes).flat())},[n,t,r]}class as extends U{constructor(e){super(),P(this,e,is,os,Q,{summary:0})}}function ye(l,e,s){const t=l.slice();return t[7]=e[s],t}function fs(l){let e,s=ue({notes:l[1]})+"",t,n,r,o,a,i,f,d,c=ne(l[2]),u=[];for(let h=0;h<c.length;h+=1)u[h]=Te(ye(l,c,h));const k=h=>y(u[h],1,1,()=>{u[h]=null});let _=l[0]&&Ie(l);function m(h){l[6](h)}let I={};return l[0]!==void 0&&(I.container=l[0]),i=new Vt({props:I}),z.push(()=>Z(i,"container",m)),{c(){e=w("p"),t=L(s),n=O(),r=w("ul");for(let h=0;h<u.length;h+=1)u[h].c();o=O(),_&&_.c(),a=O(),S(i.$$.fragment),this.h()},l(h){e=E(h,"P",{class:!0});var $=T(e);t=R($,s),$.forEach(p),n=H(h),r=E(h,"UL",{class:!0});var C=T(r);for(let g=0;g<u.length;g+=1)u[g].l(C);C.forEach(p),o=H(h),_&&_.l(h),a=H(h),B(i.$$.fragment,h),this.h()},h(){N(e,"class","note-count svelte-12iqttv"),N(r,"class","summary-list svelte-12iqttv")},m(h,$){q(h,e,$),b(e,t),q(h,n,$),q(h,r,$);for(let C=0;C<u.length;C+=1)u[C]&&u[C].m(r,null);q(h,o,$),_&&_.m(h,$),q(h,a,$),V(i,h,$),d=!0},p(h,$){if((!d||$&2)&&s!==(s=ue({notes:h[1]})+"")&&Y(t,s),$&4){c=ne(h[2]);let g;for(g=0;g<c.length;g+=1){const D=ye(h,c,g);u[g]?(u[g].p(D,$),v(u[g],1)):(u[g]=Te(D),u[g].c(),v(u[g],1),u[g].m(r,null))}for(K(),g=c.length;g<u.length;g+=1)k(g);X()}h[0]?_?(_.p(h,$),$&1&&v(_,1)):(_=Ie(h),_.c(),v(_,1),_.m(a.parentNode,a)):_&&(K(),y(_,1,1,()=>{_=null}),X());const C={};!f&&$&1&&(f=!0,C.container=h[0],G(()=>f=!1)),i.$set(C)},i(h){if(!d){for(let $=0;$<c.length;$+=1)v(u[$]);v(_),v(i.$$.fragment,h),d=!0}},o(h){u=u.filter(Boolean);for(let $=0;$<u.length;$+=1)y(u[$]);y(_),y(i.$$.fragment,h),d=!1},d(h){h&&(p(e),p(n),p(r),p(o),p(a)),Ue(u,h),_&&_.d(h),M(i,h)}}}function Te(l){let e,s;return e=new as({props:{summary:l[7]}}),{c(){S(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){V(e,t,n),s=!0},p(t,n){const r={};n&4&&(r.summary=t[7]),e.$set(r)},i(t){s||(v(e.$$.fragment,t),s=!0)},o(t){y(e.$$.fragment,t),s=!1},d(t){M(e,t)}}}function Ie(l){let e,s,t;function n(o){l[5](o)}let r={summaries:l[2]};return l[0].clientHeight!==void 0&&(r.bottomOffset=l[0].clientHeight),e=new ls({props:r}),z.push(()=>Z(e,"bottomOffset",n)),{c(){S(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,a){V(e,o,a),t=!0},p(o,a){const i={};a&4&&(i.summaries=o[2]),!s&&a&1&&(s=!0,i.bottomOffset=o[0].clientHeight,G(()=>s=!1)),e.$set(i)},i(o){t||(v(e.$$.fragment,o),t=!0)},o(o){y(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function us(l){let e,s,t=l[3]&&fs(l);return{c(){t&&t.c(),e=A()},l(n){t&&t.l(n),e=A()},m(n,r){t&&t.m(n,r),q(n,e,r),s=!0},p(n,r){n[3]&&t.p(n,r)},i(n){s||(v(t),s=!0)},o(n){y(t),s=!1},d(n){n&&p(e),t&&t.d(n)}}}function cs(l){let e,s;return e=new Oe({props:{class:"import-log-page",$$slots:{default:[us]},$$scope:{ctx:l}}}),{c(){S(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){V(e,t,n),s=!0},p(t,[n]){const r={};n&1031&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){s||(v(e.$$.fragment,t),s=!0)},o(t){y(e.$$.fragment,t),s=!1},d(t){M(e,t)}}}function ms(l,e,s){var d;let t,n,{response:r}=e;const o=r;let a;function i(c){l.$$.not_equal(a.clientHeight,c)&&(a.clientHeight=c,s(0,a))}function f(c){a=c,s(0,a)}return l.$$set=c=>{"response"in c&&s(4,r=c.response)},s(2,t=o?Ut(o.log):[]),s(1,n=((d=o==null?void 0:o.log)==null?void 0:d.foundNotes)??0),[a,n,t,o,r,i,f]}class ds extends U{constructor(e){super(),P(this,e,ms,cs,Q,{response:4})}}function hs(l){let e,s,t,n,r,o;return s=new Ot({props:{path:l[0],onImport:l[10]}}),n=new Oe({props:{breakpoint:"sm",class:"container-columns",$$slots:{default:[bs]},$$scope:{ctx:l}}}),{c(){e=w("div"),S(s.$$.fragment),t=O(),r=w("div"),S(n.$$.fragment),this.h()},l(a){e=E(a,"DIV",{class:!0});var i=T(e);B(s.$$.fragment,i),t=H(i),r=E(i,"DIV",{style:!0});var f=T(r);B(n.$$.fragment,f),i.forEach(p),this.h()},h(){F(r,"display","contents"),F(r,"--gutter-inline","0.25rem"),F(r,"--gutter-block","0.75rem"),N(e,"class","pre-import-page svelte-1rmka3z")},m(a,i){q(a,e,i),V(s,e,null),b(e,t),b(e,r),V(n,r,null),o=!0},p(a,i){const f={};i&1&&(f.path=a[0]),i&8&&(f.onImport=a[10]),s.$set(f);const d={};i&2048&&(d.$$scope={dirty:i,ctx:a}),n.$set(d)},i(a){o||(v(s.$$.fragment,a),v(n.$$.fragment,a),o=!0)},o(a){y(s.$$.fragment,a),y(n.$$.fragment,a),o=!1},d(a){a&&p(e),M(s),M(n)}}}function _s(l){let e,s,t,n;function r(i){l[8](i)}function o(i){l[9](i)}let a={task:l[4]};return l[1]!==void 0&&(a.result=l[1]),l[2]!==void 0&&(a.error=l[2]),e=new yt({props:a}),z.push(()=>Z(e,"result",r)),z.push(()=>Z(e,"error",o)),{c(){S(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,f){V(e,i,f),n=!0},p(i,f){const d={};!s&&f&2&&(s=!0,d.result=i[1],G(()=>s=!1)),!t&&f&4&&(t=!0,d.error=i[2],G(()=>t=!1)),e.$set(d)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){y(e.$$.fragment,i),n=!1},d(i){M(e,i)}}}function ps(l){let e,s;return e=new ds({props:{response:l[1]}}),{c(){S(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){V(e,t,n),s=!0},p(t,n){const r={};n&2&&(r.response=t[1]),e.$set(r)},i(t){s||(v(e.$$.fragment,t),s=!0)},o(t){y(e.$$.fragment,t),s=!1},d(t){M(e,t)}}}function gs(l){let e,s;return e=new Dt({props:{error:l[2]}}),{c(){S(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){V(e,t,n),s=!0},p(t,n){const r={};n&4&&(r.error=t[2]),e.$set(r)},i(t){s||(v(e.$$.fragment,t),s=!0)},o(t){y(e.$$.fragment,t),s=!1},d(t){M(e,t)}}}function bs(l){let e;const s=l[7].default,t=x(s,l,l[11],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,r){t&&t.m(n,r),e=!0},p(n,r){t&&t.p&&(!e||r&2048)&&ee(t,s,n,n[11],e?se(s,n[11],r,null):te(n[11]),null)},i(n){e||(v(t,n),e=!0)},o(n){y(t,n),e=!1},d(n){t&&t.d(n)}}}function $s(l){let e,s,t,n;const r=[gs,ps,_s,hs],o=[];function a(i,f){return i[2]?0:i[1]?1:i[3]?2:3}return e=a(l),s=o[e]=r[e](l),{c(){s.c(),t=A()},l(i){s.l(i),t=A()},m(i,f){o[e].m(i,f),q(i,t,f),n=!0},p(i,[f]){let d=e;e=a(i),e===d?o[e].p(i,f):(K(),y(o[d],1,1,()=>{o[d]=null}),X(),s=o[e],s?s.p(i,f):(s=o[e]=r[e](i),s.c()),v(s,1),s.m(t.parentNode,t))},i(i){n||(v(s),n=!0)},o(i){y(s),n=!1},d(i){i&&p(t),o[e].d(i)}}}function vs(l,e,s){let{$$slots:t={},$$scope:n}=e,{path:r}=e,{importer:o}=e;const a=!1;let i,f,d=a;async function c(){const m=await o.doImport();return await Qe({}),s(3,d=!1),m}function u(m){i=m,s(1,i)}function k(m){f=m,s(2,f)}const _=()=>s(3,d=!0);return l.$$set=m=>{"path"in m&&s(0,r=m.path),"importer"in m&&s(5,o=m.importer),"$$scope"in m&&s(11,n=m.$$scope)},[r,i,f,d,c,o,a,t,u,k,_,n]}class Bs extends U{constructor(e){super(),P(this,e,vs,$s,Q,{path:0,importer:5,noOptions:6})}get noOptions(){return this.$$.ctx[6]}}export{Bs as I};
