import{s as j,e as _,i as v,d as u,w as g,P as C,o as E,f as h,g as k,h as $,j as b,r as P,C as B}from"../chunks/scheduler.8ceb707f.js";import{S as D,i as V,t as f,c as q,a as p,g as H,b as y,d as w,m as S,e as T}from"../chunks/index.07e72a31.js";import{g as M}from"../chunks/navigation.89ef0947.js";import{p as N}from"../chunks/stores.41592c93.js";import{c as z,k as A,b as F}from"../chunks/index.7a7876c2.js";import{S as G}from"../chunks/Spinner.73030589.js";import{T as J}from"../chunks/ToolkitEditor.d3284143.js";import{j as K}from"../chunks/index.30f324e9.js";import{a as d}from"../chunks/Toaster.svelte_svelte_type_style_lang.a1b53f72.js";function L(i){let e,o,t,s;return t=new G({}),{c(){e=h("div"),o=h("div"),y(t.$$.fragment),this.h()},l(n){e=k(n,"DIV",{class:!0});var a=$(e);o=k(a,"DIV",{class:!0});var c=$(o);w(t.$$.fragment,c),c.forEach(u),a.forEach(u),this.h()},h(){b(o,"class","pb-16"),b(e,"class","flex items-center justify-center h-full")},m(n,a){v(n,e,a),P(e,o),S(t,o,null),s=!0},p:B,i(n){s||(p(t.$$.fragment,n),s=!0)},o(n){f(t.$$.fragment,n),s=!1},d(n){n&&u(e),T(t)}}}function O(i){let e,o;return e=new J({props:{edit:!0,id:i[0].id,name:i[0].name,meta:i[0].meta,content:i[0].content}}),e.$on("save",i[3]),{c(){y(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){S(e,t,s),o=!0},p(t,s){const n={};s&1&&(n.id=t[0].id),s&1&&(n.name=t[0].name),s&1&&(n.meta=t[0].meta),s&1&&(n.content=t[0].content),e.$set(n)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){f(e.$$.fragment,t),o=!1},d(t){T(e,t)}}}function Q(i){let e,o,t,s;const n=[O,L],a=[];function c(l,r){return l[0]?0:1}return e=c(i),o=a[e]=n[e](i),{c(){o.c(),t=_()},l(l){o.l(l),t=_()},m(l,r){a[e].m(l,r),v(l,t,r),s=!0},p(l,[r]){let m=e;e=c(l),e===m?a[e].p(l,r):(H(),f(a[m],1,1,()=>{a[m]=null}),q(),o=a[e],o?o.p(l,r):(o=a[e]=n[e](l),o.c()),p(o,1),o.m(t.parentNode,t))},i(l){s||(p(o),s=!0)},o(l){f(o),s=!1},d(l){l&&u(t),a[e].d(l)}}}function R(i,e,o){let t,s;g(i,N,r=>o(4,t=r));const n=C("i18n");g(i,n,r=>o(5,s=r));let a=null;const c=async r=>{console.log(r),await A(localStorage.token,a.id,{id:r.id,name:r.name,meta:r.meta,content:r.content}).catch(I=>(d.error(I),null))&&(d.success(s.t("Tool updated successfully")),K.set(await F(localStorage.token)))};return E(async()=>{console.log("mounted");const r=t.url.searchParams.get("id");r&&(o(0,a=await z(localStorage.token,r).catch(m=>(d.error(m),M("/workspace/tools"),null))),console.log(a))}),[a,n,c,r=>{c(r.detail)}]}class ne extends D{constructor(e){super(),V(this,e,R,Q,j,{})}}export{ne as component};
//# sourceMappingURL=24.fdbc276a.js.map
