import{s as Js,f as d,a as w,l as N,g as _,h as p,c as I,R as Ut,m as P,d as u,j as o,i as O,r as n,u as X,n as C,v as Bl,w as Bt,P as qs,o as Xs,p as jt,Q as ve,O as Ys,W as ul,K as jl,T as Ks,U as bs,C as Ul,X as Zs,z as ks,A as ws,S as Is,e as ys}from"../chunks/scheduler.8ceb707f.js";import{S as Gs,i as Qs,a as G,t as oe,c as Cl,f as fl,b as kt,d as wt,m as It,g as Ol,e as yt}from"../chunks/index.07e72a31.js";import{e as Et}from"../chunks/each.0e379b97.js";import{a as xs}from"../chunks/Toaster.svelte_svelte_type_style_lang.a1b53f72.js";import{g as cl}from"../chunks/navigation.89ef0947.js";import{p as $s}from"../chunks/stores.41592c93.js";import{h as Es,j as ea,k as ta}from"../chunks/index.30f324e9.js";import"../chunks/sha256.65a6c54a.js";import{u as la}from"../chunks/index.d49e0b9a.js";import{A as sa}from"../chunks/AdvancedParams.ce89b1c9.js";import{b as aa}from"../chunks/index.5bae366a.js";import{C as ra}from"../chunks/Checkbox.3d101069.js";import{T as na}from"../chunks/Tags.9560aa63.js";import{K as oa,T as ia,F as ca}from"../chunks/FiltersSelector.dbf53350.js";function Ds(s,e,t){const a=s.slice();return a[48]=e[t],a}function Ts(s,e,t){const a=s.slice();return a[51]=e[t],a[52]=e,a[53]=t,a}function Vs(s,e,t){const a=s.slice();return a[17]=e[t],a}function Ss(s){var Yl,Kl;let e,t,a,l,r,m,g,k,V,E=s[14].t("Name")+"",D,S,A,h,v,T,i,y,B,Y=s[14].t("Model ID")+"",K,ge,Ge,Re,x,Qe,Dt,xe,ie,be,Pe,ze=s[14].t("Description")+"",$e,Tt,ce,Vt,St,et,At,ke,Me,Ce,We=s[14].t("Model Params")+"",tt,Ht,se,ye,Je,lt=s[14].t("System Prompt")+"",b,j,we,L,ue,$,ee,te=s[14].t("Advanced Params")+"",ae,Oe,Q,Be,st,qe,at,re,ne,fe,je,Nt=s[14].t("Prompt suggestions")+"",Lt,dl,Ee,_l,pl,hl,rt,De,ml,vl,nt,Te,gl,bl,ot,Ve,kl,wl,Ue,it,ct,Pt=s[14].t("Capabilities")+"",Ft,Il,Xe,yl,He,ut,ft,Mt=s[14].t("Tags")+"",Rt,El,dt,Le,Dl,Se,Fe,_t,Ct=s[14].t("JSON Preview")+"",zt,Tl,Ae,Vl,Sl,pt,le,ht,Ot=s[14].t("Save & Update")+"",Wt,Al,Jt,U,Nl,Hl;function Ll(c,f){return c[7].meta.profile_image_url?fa:ua}let qt=Ll(s),de=qt(s),R=s[17].preset&&As(s);function Fl(c,f){return c[7].meta.description===null?_a:da}let Xt=Fl(s),_e=Xt(s),z=s[7].meta.description!==null&&Ps(s);function Rl(c,f){return c[3]?ha:pa}let Yt=Rl(s),pe=Yt(s),H=s[3]&&Ms(s);function zl(c,f){return c[7].meta.suggestion_prompts===null?va:ma}let Kt=zl(s),he=Kt(s),W=s[7].meta.suggestion_prompts!==null&&Cs(s),J=s[7].meta.suggestion_prompts&&Os(s);function Fs(c){s[38](c)}let Wl={};s[10]!==void 0&&(Wl.knowledge=s[10]),De=new oa({props:Wl}),jt.push(()=>fl(De,"knowledge",Fs));function Rs(c){s[39](c)}let Jl={tools:s[15]};s[11]!==void 0&&(Jl.selectedToolIds=s[11]),Te=new ia({props:Jl}),jt.push(()=>fl(Te,"selectedToolIds",Rs));function zs(c){s[40](c)}let ql={filters:s[16].filter(Ls)};s[12]!==void 0&&(ql.selectedFilterIds=s[12]),Ve=new ca({props:ql}),jt.push(()=>fl(Ve,"selectedFilterIds",zs));let Ye=Et(Object.keys(s[9])),M=[];for(let c=0;c<Ye.length;c+=1)M[c]=js(Ds(s,Ye,c));const Ws=c=>oe(M[c],1,1,()=>{M[c]=null});Le=new na({props:{tags:((Kl=(Yl=s[7])==null?void 0:Yl.meta)==null?void 0:Kl.tags)??[],deleteTag:s[42],addTag:s[43]}});function Xl(c,f){return c[4]?wa:ka}let Zt=Xl(s),me=Zt(s),q=s[4]&&Us(s),Z=s[0]&&Hs();return{c(){e=d("form"),t=d("div"),a=d("div"),l=d("button"),de.c(),m=w(),g=d("div"),k=d("div"),V=d("div"),D=N(E),S=N("*"),A=w(),h=d("div"),v=d("input"),i=w(),y=d("div"),B=d("div"),K=N(Y),ge=N("*"),Ge=w(),Re=d("div"),x=d("input"),Dt=w(),R&&R.c(),xe=w(),ie=d("div"),be=d("div"),Pe=d("div"),$e=N(ze),Tt=w(),ce=d("button"),_e.c(),Vt=w(),z&&z.c(),St=w(),et=d("hr"),At=w(),ke=d("div"),Me=d("div"),Ce=d("div"),tt=N(We),Ht=w(),se=d("div"),ye=d("div"),Je=d("div"),b=N(lt),j=w(),we=d("div"),L=d("textarea"),ue=w(),$=d("div"),ee=d("div"),ae=N(te),Oe=w(),Q=d("button"),pe.c(),Be=w(),H&&H.c(),st=w(),qe=d("hr"),at=w(),re=d("div"),ne=d("div"),fe=d("div"),je=d("div"),Lt=N(Nt),dl=w(),Ee=d("button"),he.c(),_l=w(),W&&W.c(),pl=w(),J&&J.c(),hl=w(),rt=d("div"),kt(De.$$.fragment),vl=w(),nt=d("div"),kt(Te.$$.fragment),bl=w(),ot=d("div"),kt(Ve.$$.fragment),wl=w(),Ue=d("div"),it=d("div"),ct=d("div"),Ft=N(Pt),Il=w(),Xe=d("div");for(let c=0;c<M.length;c+=1)M[c].c();yl=w(),He=d("div"),ut=d("div"),ft=d("div"),Rt=N(Mt),El=w(),dt=d("div"),kt(Le.$$.fragment),Dl=w(),Se=d("div"),Fe=d("div"),_t=d("div"),zt=N(Ct),Tl=w(),Ae=d("button"),me.c(),Vl=w(),q&&q.c(),Sl=w(),pt=d("div"),le=d("button"),ht=d("div"),Wt=N(Ot),Al=w(),Z&&Z.c(),this.h()},l(c){e=_(c,"FORM",{class:!0});var f=p(e);t=_(f,"DIV",{class:!0});var Ie=p(t);a=_(Ie,"DIV",{class:!0});var mt=p(a);l=_(mt,"BUTTON",{class:!0,type:!0});var vt=p(l);de.l(vt),vt.forEach(u),mt.forEach(u),Ie.forEach(u),m=I(f),g=_(f,"DIV",{class:!0});var Ne=p(g);k=_(Ne,"DIV",{class:!0});var Ke=p(k);V=_(Ke,"DIV",{class:!0});var gt=p(V);D=P(gt,E),S=P(gt,"*"),gt.forEach(u),A=I(Ke),h=_(Ke,"DIV",{});var F=p(h);v=_(F,"INPUT",{class:!0,placeholder:!0}),F.forEach(u),Ke.forEach(u),i=I(Ne),y=_(Ne,"DIV",{class:!0});var Ze=p(y);B=_(Ze,"DIV",{class:!0});var Pl=p(B);K=P(Pl,Y),ge=P(Pl,"*"),Pl.forEach(u),Ge=I(Ze),Re=_(Ze,"DIV",{});var Zl=p(Re);x=_(Zl,"INPUT",{class:!0,placeholder:!0}),Zl.forEach(u),Ze.forEach(u),Ne.forEach(u),Dt=I(f),R&&R.l(f),xe=I(f),ie=_(f,"DIV",{class:!0});var Gt=p(ie);be=_(Gt,"DIV",{class:!0});var Qt=p(be);Pe=_(Qt,"DIV",{class:!0});var Gl=p(Pe);$e=P(Gl,ze),Gl.forEach(u),Tt=I(Qt),ce=_(Qt,"BUTTON",{class:!0,type:!0});var Ql=p(ce);_e.l(Ql),Ql.forEach(u),Qt.forEach(u),Vt=I(Gt),z&&z.l(Gt),Gt.forEach(u),St=I(f),et=_(f,"HR",{class:!0}),At=I(f),ke=_(f,"DIV",{class:!0});var xt=p(ke);Me=_(xt,"DIV",{class:!0});var xl=p(Me);Ce=_(xl,"DIV",{class:!0});var $l=p(Ce);tt=P($l,We),$l.forEach(u),xl.forEach(u),Ht=I(xt),se=_(xt,"DIV",{class:!0});var bt=p(se);ye=_(bt,"DIV",{class:!0});var $t=p(ye);Je=_($t,"DIV",{class:!0});var es=p(Je);b=P(es,lt),es.forEach(u),j=I($t),we=_($t,"DIV",{});var ts=p(we);L=_(ts,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),p(L).forEach(u),ts.forEach(u),$t.forEach(u),ue=I(bt),$=_(bt,"DIV",{class:!0});var el=p($);ee=_(el,"DIV",{class:!0});var ls=p(ee);ae=P(ls,te),ls.forEach(u),Oe=I(el),Q=_(el,"BUTTON",{class:!0,type:!0});var ss=p(Q);pe.l(ss),ss.forEach(u),el.forEach(u),Be=I(bt),H&&H.l(bt),bt.forEach(u),xt.forEach(u),st=I(f),qe=_(f,"HR",{class:!0}),at=I(f),re=_(f,"DIV",{class:!0});var tl=p(re);ne=_(tl,"DIV",{class:!0});var ll=p(ne);fe=_(ll,"DIV",{class:!0});var sl=p(fe);je=_(sl,"DIV",{class:!0});var as=p(je);Lt=P(as,Nt),as.forEach(u),dl=I(sl),Ee=_(sl,"BUTTON",{class:!0,type:!0});var rs=p(Ee);he.l(rs),rs.forEach(u),sl.forEach(u),_l=I(ll),W&&W.l(ll),ll.forEach(u),pl=I(tl),J&&J.l(tl),tl.forEach(u),hl=I(f),rt=_(f,"DIV",{class:!0});var ns=p(rt);wt(De.$$.fragment,ns),ns.forEach(u),vl=I(f),nt=_(f,"DIV",{class:!0});var os=p(nt);wt(Te.$$.fragment,os),os.forEach(u),bl=I(f),ot=_(f,"DIV",{class:!0});var is=p(ot);wt(Ve.$$.fragment,is),is.forEach(u),wl=I(f),Ue=_(f,"DIV",{class:!0});var al=p(Ue);it=_(al,"DIV",{class:!0});var cs=p(it);ct=_(cs,"DIV",{class:!0});var us=p(ct);Ft=P(us,Pt),us.forEach(u),cs.forEach(u),Il=I(al),Xe=_(al,"DIV",{class:!0});var fs=p(Xe);for(let Ml=0;Ml<M.length;Ml+=1)M[Ml].l(fs);fs.forEach(u),al.forEach(u),yl=I(f),He=_(f,"DIV",{class:!0});var rl=p(He);ut=_(rl,"DIV",{class:!0});var ds=p(ut);ft=_(ds,"DIV",{class:!0});var _s=p(ft);Rt=P(_s,Mt),_s.forEach(u),ds.forEach(u),El=I(rl),dt=_(rl,"DIV",{class:!0});var ps=p(dt);wt(Le.$$.fragment,ps),ps.forEach(u),rl.forEach(u),Dl=I(f),Se=_(f,"DIV",{class:!0});var nl=p(Se);Fe=_(nl,"DIV",{class:!0});var ol=p(Fe);_t=_(ol,"DIV",{class:!0});var hs=p(_t);zt=P(hs,Ct),hs.forEach(u),Tl=I(ol),Ae=_(ol,"BUTTON",{class:!0,type:!0});var ms=p(Ae);me.l(ms),ms.forEach(u),ol.forEach(u),Vl=I(nl),q&&q.l(nl),nl.forEach(u),Sl=I(f),pt=_(f,"DIV",{class:!0});var vs=p(pt);le=_(vs,"BUTTON",{class:!0,type:!0});var il=p(le);ht=_(il,"DIV",{class:!0});var gs=p(ht);Wt=P(gs,Ot),gs.forEach(u),Al=I(il),Z&&Z.l(il),il.forEach(u),vs.forEach(u),f.forEach(u),this.h()},h(){o(l,"class",r=(s[7].meta.profile_image_url?"":"p-4")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center"),o(l,"type","button"),o(a,"class","self-center"),o(t,"class","flex justify-center my-4"),o(V,"class","text-sm font-semibold mb-1"),o(v,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(v,"placeholder",T=s[14].t("Name your model")),v.required=!0,o(k,"class","flex-1"),o(B,"class","text-sm font-semibold mb-1"),o(x,"class","px-3 py-1.5 text-sm w-full bg-transparent disabled:text-gray-500 border dark:border-gray-600 outline-none rounded-lg"),o(x,"placeholder",Qe=s[14].t("Add a model id")),x.value=s[5],x.disabled=!0,x.required=!0,o(y,"class","flex-1"),o(g,"class","mt-2 my-1 flex space-x-2"),o(Pe,"class","self-center text-sm font-semibold"),o(ce,"class","p-1 text-xs flex rounded transition"),o(ce,"type","button"),o(be,"class","flex w-full justify-between items-center"),o(ie,"class","my-1"),o(et,"class","dark:border-gray-850 my-1"),o(Ce,"class","self-center text-sm font-semibold"),o(Me,"class","flex w-full justify-between"),o(Je,"class","text-xs font-semibold mb-2"),o(L,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1"),o(L,"placeholder",`Write your model system prompt content here
e.g.) You are Mario from Super Mario Bros, acting as an assistant.`),o(L,"rows","4"),o(ye,"class","my-1"),o(ee,"class","self-center text-xs font-semibold"),o(Q,"class","p-1 px-3 text-xs flex rounded transition"),o(Q,"type","button"),o($,"class","flex w-full justify-between"),o(se,"class","mt-2"),o(ke,"class","my-2"),o(qe,"class","dark:border-gray-850 my-1"),o(je,"class","self-center text-sm font-semibold"),o(Ee,"class","p-1 text-xs flex rounded transition"),o(Ee,"type","button"),o(fe,"class","flex w-full justify-between items-center"),o(ne,"class","flex w-full justify-between items-center"),o(re,"class","my-2"),o(rt,"class","my-2"),o(nt,"class","my-2"),o(ot,"class","my-2"),o(ct,"class","self-center text-sm font-semibold"),o(it,"class","flex w-full justify-between mb-1"),o(Xe,"class","flex flex-col"),o(Ue,"class","my-2"),o(ft,"class","self-center text-sm font-semibold"),o(ut,"class","flex w-full justify-between items-center"),o(dt,"class","mt-2"),o(He,"class","my-1"),o(_t,"class","self-center text-sm font-semibold"),o(Ae,"class","p-1 px-3 text-xs flex rounded transition"),o(Ae,"type","button"),o(Fe,"class","flex w-full justify-between mb-2"),o(Se,"class","my-2 text-gray-300 dark:text-gray-700"),o(ht,"class","self-center font-medium"),o(le,"class",Jt="text-sm px-3 py-2 transition rounded-xl "+(s[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),o(le,"type","submit"),le.disabled=s[0],o(pt,"class","my-2 flex justify-end mb-20"),o(e,"class","flex flex-col max-w-2xl mx-auto mt-4 mb-10")},m(c,f){O(c,e,f),n(e,t),n(t,a),n(a,l),de.m(l,null),n(e,m),n(e,g),n(g,k),n(k,V),n(V,D),n(V,S),n(k,A),n(k,h),n(h,v),ve(v,s[6]),n(g,i),n(g,y),n(y,B),n(B,K),n(B,ge),n(y,Ge),n(y,Re),n(Re,x),n(e,Dt),R&&R.m(e,null),n(e,xe),n(e,ie),n(ie,be),n(be,Pe),n(Pe,$e),n(be,Tt),n(be,ce),_e.m(ce,null),n(ie,Vt),z&&z.m(ie,null),n(e,St),n(e,et),n(e,At),n(e,ke),n(ke,Me),n(Me,Ce),n(Ce,tt),n(ke,Ht),n(ke,se),n(se,ye),n(ye,Je),n(Je,b),n(ye,j),n(ye,we),n(we,L),ve(L,s[7].params.system),n(se,ue),n(se,$),n($,ee),n(ee,ae),n($,Oe),n($,Q),pe.m(Q,null),n(se,Be),H&&H.m(se,null),n(e,st),n(e,qe),n(e,at),n(e,re),n(re,ne),n(ne,fe),n(fe,je),n(je,Lt),n(fe,dl),n(fe,Ee),he.m(Ee,null),n(ne,_l),W&&W.m(ne,null),n(re,pl),J&&J.m(re,null),n(e,hl),n(e,rt),It(De,rt,null),n(e,vl),n(e,nt),It(Te,nt,null),n(e,bl),n(e,ot),It(Ve,ot,null),n(e,wl),n(e,Ue),n(Ue,it),n(it,ct),n(ct,Ft),n(Ue,Il),n(Ue,Xe);for(let Ie=0;Ie<M.length;Ie+=1)M[Ie]&&M[Ie].m(Xe,null);n(e,yl),n(e,He),n(He,ut),n(ut,ft),n(ft,Rt),n(He,El),n(He,dt),It(Le,dt,null),n(e,Dl),n(e,Se),n(Se,Fe),n(Fe,_t),n(_t,zt),n(Fe,Tl),n(Fe,Ae),me.m(Ae,null),n(Se,Vl),q&&q.m(Se,null),n(e,Sl),n(e,pt),n(pt,le),n(le,ht),n(ht,Wt),n(le,Al),Z&&Z.m(le,null),U=!0,Nl||(Hl=[X(l,"click",s[24]),X(v,"input",s[25]),X(ce,"click",s[28]),X(L,"input",s[30]),X(Q,"click",s[31]),X(Ee,"click",s[34]),X(Ae,"click",s[44]),X(e,"submit",Ys(s[45]))],Nl=!0)},p(c,f){var Ke,gt;qt===(qt=Ll(c))&&de?de.p(c,f):(de.d(1),de=qt(c),de&&(de.c(),de.m(l,null))),(!U||f[0]&8320&&r!==(r=(c[7].meta.profile_image_url?"":"p-4")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center"))&&o(l,"class",r),(!U||f[0]&16384)&&E!==(E=c[14].t("Name")+"")&&C(D,E),(!U||f[0]&16384&&T!==(T=c[14].t("Name your model")))&&o(v,"placeholder",T),f[0]&64&&v.value!==c[6]&&ve(v,c[6]),(!U||f[0]&16384)&&Y!==(Y=c[14].t("Model ID")+"")&&C(K,Y),(!U||f[0]&16384&&Qe!==(Qe=c[14].t("Add a model id")))&&o(x,"placeholder",Qe),(!U||f[0]&32&&x.value!==c[5])&&(x.value=c[5]),c[17].preset?R?R.p(c,f):(R=As(c),R.c(),R.m(e,xe)):R&&(R.d(1),R=null),(!U||f[0]&16384)&&ze!==(ze=c[14].t("Description")+"")&&C($e,ze),Xt===(Xt=Fl(c))&&_e?_e.p(c,f):(_e.d(1),_e=Xt(c),_e&&(_e.c(),_e.m(ce,null))),c[7].meta.description!==null?z?z.p(c,f):(z=Ps(c),z.c(),z.m(ie,null)):z&&(z.d(1),z=null),(!U||f[0]&16384)&&We!==(We=c[14].t("Model Params")+"")&&C(tt,We),(!U||f[0]&16384)&&lt!==(lt=c[14].t("System Prompt")+"")&&C(b,lt),f[0]&8320&&ve(L,c[7].params.system),(!U||f[0]&16384)&&te!==(te=c[14].t("Advanced Params")+"")&&C(ae,te),Yt===(Yt=Rl(c))&&pe?pe.p(c,f):(pe.d(1),pe=Yt(c),pe&&(pe.c(),pe.m(Q,null))),c[3]?H?(H.p(c,f),f[0]&8&&G(H,1)):(H=Ms(c),H.c(),G(H,1),H.m(se,null)):H&&(Ol(),oe(H,1,1,()=>{H=null}),Cl()),(!U||f[0]&16384)&&Nt!==(Nt=c[14].t("Prompt suggestions")+"")&&C(Lt,Nt),Kt===(Kt=zl(c))&&he?he.p(c,f):(he.d(1),he=Kt(c),he&&(he.c(),he.m(Ee,null))),c[7].meta.suggestion_prompts!==null?W?W.p(c,f):(W=Cs(c),W.c(),W.m(ne,null)):W&&(W.d(1),W=null),c[7].meta.suggestion_prompts?J?J.p(c,f):(J=Os(c),J.c(),J.m(re,null)):J&&(J.d(1),J=null);const Ie={};!ml&&f[0]&1024&&(ml=!0,Ie.knowledge=c[10],ul(()=>ml=!1)),De.$set(Ie);const mt={};f[0]&32768&&(mt.tools=c[15]),!gl&&f[0]&2048&&(gl=!0,mt.selectedToolIds=c[11],ul(()=>gl=!1)),Te.$set(mt);const vt={};if(f[0]&65536&&(vt.filters=c[16].filter(Ls)),!kl&&f[0]&4096&&(kl=!0,vt.selectedFilterIds=c[12],ul(()=>kl=!1)),Ve.$set(vt),(!U||f[0]&16384)&&Pt!==(Pt=c[14].t("Capabilities")+"")&&C(Ft,Pt),f[0]&16896){Ye=Et(Object.keys(c[9]));let F;for(F=0;F<Ye.length;F+=1){const Ze=Ds(c,Ye,F);M[F]?(M[F].p(Ze,f),G(M[F],1)):(M[F]=js(Ze),M[F].c(),G(M[F],1),M[F].m(Xe,null))}for(Ol(),F=Ye.length;F<M.length;F+=1)Ws(F);Cl()}(!U||f[0]&16384)&&Mt!==(Mt=c[14].t("Tags")+"")&&C(Rt,Mt);const Ne={};f[0]&128&&(Ne.tags=((gt=(Ke=c[7])==null?void 0:Ke.meta)==null?void 0:gt.tags)??[]),f[0]&128&&(Ne.deleteTag=c[42]),f[0]&128&&(Ne.addTag=c[43]),Le.$set(Ne),(!U||f[0]&16384)&&Ct!==(Ct=c[14].t("JSON Preview")+"")&&C(zt,Ct),Zt===(Zt=Xl(c))&&me?me.p(c,f):(me.d(1),me=Zt(c),me&&(me.c(),me.m(Ae,null))),c[4]?q?q.p(c,f):(q=Us(c),q.c(),q.m(Se,null)):q&&(q.d(1),q=null),(!U||f[0]&16384)&&Ot!==(Ot=c[14].t("Save & Update")+"")&&C(Wt,Ot),c[0]?Z||(Z=Hs(),Z.c(),Z.m(le,null)):Z&&(Z.d(1),Z=null),(!U||f[0]&1&&Jt!==(Jt="text-sm px-3 py-2 transition rounded-xl "+(c[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"))&&o(le,"class",Jt),(!U||f[0]&1)&&(le.disabled=c[0])},i(c){if(!U){G(H),G(De.$$.fragment,c),G(Te.$$.fragment,c),G(Ve.$$.fragment,c);for(let f=0;f<Ye.length;f+=1)G(M[f]);G(Le.$$.fragment,c),U=!0}},o(c){oe(H),oe(De.$$.fragment,c),oe(Te.$$.fragment,c),oe(Ve.$$.fragment,c),M=M.filter(Boolean);for(let f=0;f<M.length;f+=1)oe(M[f]);oe(Le.$$.fragment,c),U=!1},d(c){c&&u(e),de.d(),R&&R.d(),_e.d(),z&&z.d(),pe.d(),H&&H.d(),he.d(),W&&W.d(),J&&J.d(),yt(De),yt(Te),yt(Ve),jl(M,c),yt(Le),me.d(),q&&q.d(),Z&&Z.d(),Nl=!1,Bl(Hl)}}}function ua(s){let e,t;return{c(){e=ks("svg"),t=ks("path"),this.h()},l(a){e=ws(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var l=p(e);t=ws(l,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(u),l.forEach(u),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class","size-8")},m(a,l){O(a,e,l),n(e,t)},p:Ul,d(a){a&&u(e)}}}function fa(s){let e,t;return{c(){e=d("img"),this.h()},l(a){e=_(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Is(e.src,t=s[7].meta.profile_image_url)||o(e,"src",t),o(e,"alt","modelfile profile"),o(e,"class","rounded-full size-16 object-cover")},m(a,l){O(a,e,l)},p(a,l){l[0]&8320&&!Is(e.src,t=a[7].meta.profile_image_url)&&o(e,"src",t)},d(a){a&&u(e)}}}function As(s){let e,t,a=s[14].t("Base Model (From)")+"",l,r,m,g,k,V=s[14].t("Select a base model")+"",E,D,S,A=Et(s[13].filter(s[26])),h=[];for(let v=0;v<A.length;v+=1)h[v]=Ns(Vs(s,A,v));return{c(){e=d("div"),t=d("div"),l=N(a),r=w(),m=d("div"),g=d("select"),k=d("option"),E=N(V);for(let v=0;v<h.length;v+=1)h[v].c();this.h()},l(v){e=_(v,"DIV",{class:!0});var T=p(e);t=_(T,"DIV",{class:!0});var i=p(t);l=P(i,a),i.forEach(u),r=I(T),m=_(T,"DIV",{});var y=p(m);g=_(y,"SELECT",{class:!0,placeholder:!0});var B=p(g);k=_(B,"OPTION",{class:!0});var Y=p(k);E=P(Y,V),Y.forEach(u);for(let K=0;K<h.length;K+=1)h[K].l(B);B.forEach(u),y.forEach(u),T.forEach(u),this.h()},h(){o(t,"class","text-sm font-semibold mb-1"),k.__value=null,ve(k,k.__value),o(k,"class","text-gray-900"),o(g,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(g,"placeholder","Select a base model (e.g. llama3, gpt-4o)"),g.required=!0,s[7].base_model_id===void 0&&Ks(()=>s[27].call(g)),o(e,"class","my-1")},m(v,T){O(v,e,T),n(e,t),n(t,l),n(e,r),n(e,m),n(m,g),n(g,k),n(k,E);for(let i=0;i<h.length;i+=1)h[i]&&h[i].m(g,null);bs(g,s[7].base_model_id,!0),D||(S=X(g,"change",s[27]),D=!0)},p(v,T){if(T[0]&16384&&a!==(a=v[14].t("Base Model (From)")+"")&&C(l,a),T[0]&16384&&V!==(V=v[14].t("Select a base model")+"")&&C(E,V),T[0]&139264){A=Et(v[13].filter(v[26]));let i;for(i=0;i<A.length;i+=1){const y=Vs(v,A,i);h[i]?h[i].p(y,T):(h[i]=Ns(y),h[i].c(),h[i].m(g,null))}for(;i<h.length;i+=1)h[i].d(1);h.length=A.length}T[0]&8320&&bs(g,v[7].base_model_id)},d(v){v&&u(e),jl(h,v),D=!1,S()}}}function Ns(s){let e,t=s[17].name+"",a,l;return{c(){e=d("option"),a=N(t),this.h()},l(r){e=_(r,"OPTION",{class:!0});var m=p(e);a=P(m,t),m.forEach(u),this.h()},h(){e.__value=l=s[17].id,ve(e,e.__value),o(e,"class","text-gray-900")},m(r,m){O(r,e,m),n(e,a)},p(r,m){m[0]&139264&&t!==(t=r[17].name+"")&&C(a,t),m[0]&139264&&l!==(l=r[17].id)&&(e.__value=l,ve(e,e.__value))},d(r){r&&u(e)}}}function da(s){let e,t=s[14].t("Custom")+"",a;return{c(){e=d("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&16384&&t!==(t=l[14].t("Custom")+"")&&C(a,t)},d(l){l&&u(e)}}}function _a(s){let e,t=s[14].t("Default")+"",a;return{c(){e=d("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&16384&&t!==(t=l[14].t("Default")+"")&&C(a,t)},d(l){l&&u(e)}}}function Ps(s){let e,t,a,l;return{c(){e=d("textarea"),this.h()},l(r){e=_(r,"TEXTAREA",{class:!0,placeholder:!0,row:!0}),p(e).forEach(u),this.h()},h(){o(e,"class","mt-1 px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(e,"placeholder",t=s[14].t("Add a short description about what this model does")),o(e,"row","3")},m(r,m){O(r,e,m),ve(e,s[7].meta.description),a||(l=X(e,"input",s[29]),a=!0)},p(r,m){m[0]&16384&&t!==(t=r[14].t("Add a short description about what this model does"))&&o(e,"placeholder",t),m[0]&8320&&ve(e,r[7].meta.description)},d(r){r&&u(e),a=!1,l()}}}function pa(s){let e,t=s[14].t("Show")+"",a;return{c(){e=d("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&16384&&t!==(t=l[14].t("Show")+"")&&C(a,t)},d(l){l&&u(e)}}}function ha(s){let e,t=s[14].t("Hide")+"",a;return{c(){e=d("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&16384&&t!==(t=l[14].t("Hide")+"")&&C(a,t)},d(l){l&&u(e)}}}function Ms(s){let e,t,a,l;function r(g){s[32](g)}let m={admin:!0};return s[8]!==void 0&&(m.params=s[8]),t=new sa({props:m}),jt.push(()=>fl(t,"params",r)),t.$on("change",s[33]),{c(){e=d("div"),kt(t.$$.fragment),this.h()},l(g){e=_(g,"DIV",{class:!0});var k=p(e);wt(t.$$.fragment,k),k.forEach(u),this.h()},h(){o(e,"class","my-2")},m(g,k){O(g,e,k),It(t,e,null),l=!0},p(g,k){const V={};!a&&k[0]&256&&(a=!0,V.params=g[8],ul(()=>a=!1)),t.$set(V)},i(g){l||(G(t.$$.fragment,g),l=!0)},o(g){oe(t.$$.fragment,g),l=!1},d(g){g&&u(e),yt(t)}}}function ma(s){let e,t=s[14].t("Custom")+"",a;return{c(){e=d("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&16384&&t!==(t=l[14].t("Custom")+"")&&C(a,t)},d(l){l&&u(e)}}}function va(s){let e,t=s[14].t("Default")+"",a;return{c(){e=d("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&16384&&t!==(t=l[14].t("Default")+"")&&C(a,t)},d(l){l&&u(e)}}}function Cs(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',a,l;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ut(e)!=="svelte-j580ct"&&(e.innerHTML=t),this.h()},h(){o(e,"class","p-1 px-2 text-xs flex rounded transition"),o(e,"type","button")},m(r,m){O(r,e,m),a||(l=X(e,"click",s[35]),a=!0)},p:Ul,d(r){r&&u(e),a=!1,l()}}}function Os(s){let e;function t(r,m){return r[7].meta.suggestion_prompts.length>0?ba:ga}let a=t(s),l=a(s);return{c(){e=d("div"),l.c(),this.h()},l(r){e=_(r,"DIV",{class:!0});var m=p(e);l.l(m),m.forEach(u),this.h()},h(){o(e,"class","flex flex-col space-y-1 mt-2")},m(r,m){O(r,e,m),l.m(e,null)},p(r,m){a===(a=t(r))&&l?l.p(r,m):(l.d(1),l=a(r),l&&(l.c(),l.m(e,null)))},d(r){r&&u(e),l.d()}}}function ga(s){let e,t="No suggestion prompts";return{c(){e=d("div"),e.textContent=t,this.h()},l(a){e=_(a,"DIV",{class:!0,"data-svelte-h":!0}),Ut(e)!=="svelte-18dnedh"&&(e.textContent=t),this.h()},h(){o(e,"class","text-xs text-center")},m(a,l){O(a,e,l)},p:Ul,d(a){a&&u(e)}}}function ba(s){let e,t=Et(s[7].meta.suggestion_prompts),a=[];for(let l=0;l<t.length;l+=1)a[l]=Bs(Ts(s,t,l));return{c(){for(let l=0;l<a.length;l+=1)a[l].c();e=ys()},l(l){for(let r=0;r<a.length;r+=1)a[r].l(l);e=ys()},m(l,r){for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(l,r);O(l,e,r)},p(l,r){if(r[0]&16512){t=Et(l[7].meta.suggestion_prompts);let m;for(m=0;m<t.length;m+=1){const g=Ts(l,t,m);a[m]?a[m].p(g,r):(a[m]=Bs(g),a[m].c(),a[m].m(e.parentNode,e))}for(;m<a.length;m+=1)a[m].d(1);a.length=t.length}},d(l){l&&u(e),jl(a,l)}}}function Bs(s){let e,t,a,l,r,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',g,k,V;function E(){s[36].call(t,s[52],s[53])}function D(){return s[37](s[53])}return{c(){e=d("div"),t=d("input"),l=w(),r=d("button"),r.innerHTML=m,g=w(),this.h()},l(S){e=_(S,"DIV",{class:!0});var A=p(e);t=_(A,"INPUT",{class:!0,placeholder:!0}),l=I(A),r=_(A,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ut(r)!=="svelte-8f7b7y"&&(r.innerHTML=m),g=I(A),A.forEach(u),this.h()},h(){o(t,"class","px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600"),o(t,"placeholder",a=s[14].t("Write a prompt suggestion (e.g. Who are you?)")),o(r,"class","px-2"),o(r,"type","button"),o(e,"class","flex border dark:border-gray-600 rounded-lg")},m(S,A){O(S,e,A),n(e,t),ve(t,s[51].content),n(e,l),n(e,r),n(e,g),k||(V=[X(t,"input",E),X(r,"click",D)],k=!0)},p(S,A){s=S,A[0]&16384&&a!==(a=s[14].t("Write a prompt suggestion (e.g. Who are you?)"))&&o(t,"placeholder",a),A[0]&8320&&t.value!==s[51].content&&ve(t,s[51].content)},d(S){S&&u(e),k=!1,Bl(V)}}}function js(s){let e,t,a,l,r=s[14].t(s[48])+"",m,g,k;function V(...E){return s[41](s[48],...E)}return t=new ra({props:{state:s[9][s[48]]?"checked":"unchecked"}}),t.$on("change",V),{c(){e=d("div"),kt(t.$$.fragment),a=w(),l=d("div"),m=N(r),g=w(),this.h()},l(E){e=_(E,"DIV",{class:!0});var D=p(e);wt(t.$$.fragment,D),a=I(D),l=_(D,"DIV",{class:!0});var S=p(l);m=P(S,r),S.forEach(u),g=I(D),D.forEach(u),this.h()},h(){o(l,"class","py-0.5 text-sm w-full capitalize"),o(e,"class","flex items-center gap-2")},m(E,D){O(E,e,D),It(t,e,null),n(e,a),n(e,l),n(l,m),n(e,g),k=!0},p(E,D){s=E;const S={};D[0]&512&&(S.state=s[9][s[48]]?"checked":"unchecked"),t.$set(S),(!k||D[0]&16896)&&r!==(r=s[14].t(s[48])+"")&&C(m,r)},i(E){k||(G(t.$$.fragment,E),k=!0)},o(E){oe(t.$$.fragment,E),k=!1},d(E){E&&u(e),yt(t)}}}function ka(s){let e,t=s[14].t("Show")+"",a;return{c(){e=d("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&16384&&t!==(t=l[14].t("Show")+"")&&C(a,t)},d(l){l&&u(e)}}}function wa(s){let e,t=s[14].t("Hide")+"",a;return{c(){e=d("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&16384&&t!==(t=l[14].t("Hide")+"")&&C(a,t)},d(l){l&&u(e)}}}function Us(s){let e,t,a;return{c(){e=d("div"),t=d("textarea"),this.h()},l(l){e=_(l,"DIV",{});var r=p(e);t=_(r,"TEXTAREA",{class:!0,rows:!0}),p(t).forEach(u),r.forEach(u),this.h()},h(){o(t,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(t,"rows","10"),t.value=a=JSON.stringify(s[7],null,2),t.disabled=!0,t.readOnly=!0},m(l,r){O(l,e,r),n(e,t)},p(l,r){r[0]&8320&&a!==(a=JSON.stringify(l[7],null,2))&&(t.value=a)},d(l){l&&u(e)}}}function Hs(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(a){e=_(a,"DIV",{class:!0,"data-svelte-h":!0}),Ut(e)!=="svelte-1k8nuce"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-1.5 self-center")},m(a,l){O(a,e,l)},d(a){a&&u(e)}}}function Ia(s){let e,t,a,l,r,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',g,k,V=s[14].t("Back")+"",E,D,S,A,h,v=s[17]&&Ss(s);return{c(){e=d("div"),t=d("input"),a=w(),l=d("button"),r=d("div"),r.innerHTML=m,g=w(),k=d("div"),E=N(V),D=w(),v&&v.c(),this.h()},l(T){e=_(T,"DIV",{class:!0});var i=p(e);t=_(i,"INPUT",{type:!0,accept:!0}),a=I(i),l=_(i,"BUTTON",{class:!0});var y=p(l);r=_(y,"DIV",{class:!0,"data-svelte-h":!0}),Ut(r)!=="svelte-1klo87r"&&(r.innerHTML=m),g=I(y),k=_(y,"DIV",{class:!0});var B=p(k);E=P(B,V),B.forEach(u),y.forEach(u),D=I(i),v&&v.l(i),i.forEach(u),this.h()},h(){o(t,"type","file"),t.hidden=!0,o(t,"accept","image/*"),o(r,"class","self-center"),o(k,"class","self-center font-medium text-sm"),o(l,"class","flex space-x-1"),o(e,"class","w-full max-h-full")},m(T,i){O(T,e,i),n(e,t),s[20](t),n(e,a),n(e,l),n(l,r),n(l,g),n(l,k),n(k,E),n(e,D),v&&v.m(e,null),S=!0,A||(h=[X(t,"change",s[21]),X(t,"change",s[22]),X(l,"click",s[23])],A=!0)},p(T,i){(!S||i[0]&16384)&&V!==(V=T[14].t("Back")+"")&&C(E,V),T[17]?v?(v.p(T,i),i[0]&131072&&G(v,1)):(v=Ss(T),v.c(),G(v,1),v.m(e,null)):v&&(Ol(),oe(v,1,1,()=>{v=null}),Cl())},i(T){S||(G(v),S=!0)},o(T){oe(v),S=!1},d(T){T&&u(e),s[20](null),v&&v.d(),A=!1,Bl(h)}}}const Ls=s=>s.type==="filter";function ya(s,e,t){let a,l,r,m,g;Bt(s,Es,b=>t(13,a=b)),Bt(s,$s,b=>t(47,l=b)),Bt(s,ea,b=>t(15,m=b)),Bt(s,ta,b=>t(16,g=b));const k=qs("i18n");Bt(s,k,b=>t(14,r=b));let V=!1,E,D,S=!1,A=!1,h=null,v="",T="",i={id:"",base_model_id:null,name:"",meta:{profile_image_url:"/favicon.png",description:"",suggestion_prompts:null,tags:[]},params:{system:""}},y={},B={vision:!0},Y=[],K=[],ge=[];const Ge=async()=>{t(0,V=!0),t(7,i.id=v,i),t(7,i.name=T,i),t(7,i.meta.capabilities=B,i),Y.length>0?t(7,i.meta.knowledge=Y,i):i.meta.knowledge&&delete i.meta.knowledge,K.length>0?t(7,i.meta.toolIds=K,i):i.meta.toolIds&&delete i.meta.toolIds,ge.length>0?t(7,i.meta.filterIds=ge,i):i.meta.filterIds&&delete i.meta.filterIds,t(7,i.params.stop=y.stop?y.stop.split(",").filter(j=>j.trim()):null,i),Object.keys(i.params).forEach(j=>{(i.params[j]===""||i.params[j]===null)&&delete i.params[j]}),await la(localStorage.token,i.id,i)&&(await Es.set(await aa(localStorage.token)),xs.success(r.t("Model updated successfully")),await cl("/workspace/models")),t(0,V=!1)};Xs(()=>{var j,we,L,ue,$,ee,te,ae,Oe,Q,Be,st,qe,at,re,ne,fe;const b=l.url.searchParams.get("id");b?(t(17,h=a.find(je=>je.id===b)),h?(t(5,v=h.id),t(6,T=h.name),t(7,i={...i,...JSON.parse(JSON.stringify(h!=null&&h.info?h==null?void 0:h.info:{id:h.id,name:h.name}))}),h.preset&&h.owned_by==="ollama"&&!i.base_model_id.includes(":")&&t(7,i.base_model_id=`${i.base_model_id}:latest`,i),t(8,y={...y,...(j=h==null?void 0:h.info)==null?void 0:j.params}),t(8,y.stop=y!=null&&y.stop?(typeof y.stop=="string"?y.stop.split(","):(y==null?void 0:y.stop)??[]).join(","):null,y),(L=(we=h==null?void 0:h.info)==null?void 0:we.meta)!=null&&L.knowledge&&t(10,Y=[...($=(ue=h==null?void 0:h.info)==null?void 0:ue.meta)==null?void 0:$.knowledge]),(te=(ee=h==null?void 0:h.info)==null?void 0:ee.meta)!=null&&te.toolIds&&t(11,K=[...(Oe=(ae=h==null?void 0:h.info)==null?void 0:ae.meta)==null?void 0:Oe.toolIds]),(Be=(Q=h==null?void 0:h.info)==null?void 0:Q.meta)!=null&&Be.filterIds&&t(12,ge=[...(qe=(st=h==null?void 0:h.info)==null?void 0:st.meta)==null?void 0:qe.filterIds]),(h==null?void 0:h.owned_by)==="openai"&&t(9,B.usage=!1,B),(re=(at=h==null?void 0:h.info)==null?void 0:at.meta)!=null&&re.capabilities&&t(9,B={...B,...(fe=(ne=h==null?void 0:h.info)==null?void 0:ne.meta)==null?void 0:fe.capabilities}),console.log(h)):cl("/workspace/models")):cl("/workspace/models")});function Re(b){jt[b?"unshift":"push"](()=>{E=b,t(1,E)})}function x(){D=this.files,t(2,D)}const Qe=()=>{let b=new FileReader;b.onload=j=>{let we=`${j.target.result}`;const L=new Image;L.src=we,L.onload=function(){const ue=document.createElement("canvas"),$=ue.getContext("2d"),ee=L.width/L.height;let te,ae;ee>1?(te=250*ee,ae=250):(te=250,ae=250/ee),ue.width=250,ue.height=250;const Oe=(250-te)/2,Q=(250-ae)/2;$.drawImage(L,Oe,Q,te,ae);const Be=ue.toDataURL("image/jpeg");t(7,i.meta.profile_image_url=Be,i),t(2,D=null)}},D&&D.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(D[0].type)?b.readAsDataURL(D[0]):(console.log(`Unsupported File Type '${D[0].type}'.`),t(2,D=null))},Dt=()=>{cl("/workspace/models")},xe=()=>{E.click()};function ie(){T=this.value,t(6,T)}const be=b=>b.id!==h.id&&!(b!=null&&b.preset);function Pe(){i.base_model_id=Zs(this),t(7,i)}const ze=()=>{i.meta.description===null?t(7,i.meta.description="",i):t(7,i.meta.description=null,i)};function $e(){i.meta.description=this.value,t(7,i)}function Tt(){i.params.system=this.value,t(7,i)}const ce=()=>{t(3,S=!S)};function Vt(b){y=b,t(8,y)}const St=b=>{t(7,i.params={...i.params,...y},i)},et=()=>{i.meta.suggestion_prompts===null?t(7,i.meta.suggestion_prompts=[{content:""}],i):t(7,i.meta.suggestion_prompts=null,i)},At=()=>{(i.meta.suggestion_prompts.length===0||i.meta.suggestion_prompts.at(-1).content!=="")&&t(7,i.meta.suggestion_prompts=[...i.meta.suggestion_prompts,{content:""}],i)};function ke(b,j){b[j].content=this.value,t(7,i)}const Me=b=>{i.meta.suggestion_prompts.splice(b,1),t(7,i)};function Ce(b){Y=b,t(10,Y)}function We(b){K=b,t(11,K)}function tt(b){ge=b,t(12,ge)}return[V,E,D,S,A,v,T,i,y,B,Y,K,ge,a,r,m,g,h,k,Ge,Re,x,Qe,Dt,xe,ie,be,Pe,ze,$e,Tt,ce,Vt,St,et,At,ke,Me,Ce,We,tt,(b,j)=>{t(9,B[b]=j.detail==="checked",B)},b=>{t(7,i.meta.tags=i.meta.tags.filter(j=>j.name!==b),i)},b=>{var j;console.log(b),((j=i==null?void 0:i.meta)==null?void 0:j.tags)??null?t(7,i.meta.tags=[...i.meta.tags,{name:b}],i):t(7,i.meta.tags=[{name:b}],i)},()=>{t(4,A=!A)},()=>{Ge()}]}class Ha extends Gs{constructor(e){super(),Qs(this,e,ya,Ia,Js,{},null,[-1,-1])}}export{Ha as component};
//# sourceMappingURL=18.a6a16bc1.js.map
