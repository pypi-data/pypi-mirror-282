import{s as C,e as _,i as v,d as u,w as g,P as E,o as P,f as h,g as k,h as $,j as b,r as j,C as B}from"../chunks/scheduler.8ceb707f.js";import{S as D,i as M,t as f,c as V,a as p,g as q,b as y,d as w,m as S,e as F}from"../chunks/index.07e72a31.js";import{a as d}from"../chunks/Toaster.svelte_svelte_type_style_lang.a1b53f72.js";import{g as H}from"../chunks/navigation.89ef0947.js";import{p as N}from"../chunks/stores.41592c93.js";import{k as z,h as A}from"../chunks/index.30f324e9.js";import{c as G,i as J,b as K}from"../chunks/index.3629b38b.js";import{F as L}from"../chunks/FunctionEditor.9fb94b82.js";import{S as O}from"../chunks/Spinner.73030589.js";import{b as Q}from"../chunks/index.5bae366a.js";function R(c){let e,n,t,s;return t=new O({}),{c(){e=h("div"),n=h("div"),y(t.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var a=$(e);n=k(a,"DIV",{class:!0});var l=$(n);w(t.$$.fragment,l),l.forEach(u),a.forEach(u),this.h()},h(){b(n,"class","pb-16"),b(e,"class","flex items-center justify-center h-full")},m(o,a){v(o,e,a),j(e,n),S(t,n,null),s=!0},p:B,i(o){s||(p(t.$$.fragment,o),s=!0)},o(o){f(t.$$.fragment,o),s=!1},d(o){o&&u(e),F(t)}}}function T(c){let e,n;return e=new L({props:{edit:!0,id:c[0].id,name:c[0].name,meta:c[0].meta,content:c[0].content}}),e.$on("save",c[3]),{c(){y(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){S(e,t,s),n=!0},p(t,s){const o={};s&1&&(o.id=t[0].id),s&1&&(o.name=t[0].name),s&1&&(o.meta=t[0].meta),s&1&&(o.content=t[0].content),e.$set(o)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){f(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function U(c){let e,n,t,s;const o=[T,R],a=[];function l(i,r){return i[0]?0:1}return e=l(c),n=a[e]=o[e](c),{c(){n.c(),t=_()},l(i){n.l(i),t=_()},m(i,r){a[e].m(i,r),v(i,t,r),s=!0},p(i,[r]){let m=e;e=l(i),e===m?a[e].p(i,r):(q(),f(a[m],1,1,()=>{a[m]=null}),V(),n=a[e],n?n.p(i,r):(n=a[e]=o[e](i),n.c()),p(n,1),n.m(t.parentNode,t))},i(i){s||(p(n),s=!0)},o(i){f(n),s=!1},d(i){i&&u(t),a[e].d(i)}}}function W(c,e,n){let t,s;g(c,N,r=>n(4,t=r));const o=E("i18n");g(c,o,r=>n(5,s=r));let a=null;const l=async r=>{console.log(r),await J(localStorage.token,a.id,{id:r.id,name:r.name,meta:r.meta,content:r.content}).catch(I=>(d.error(I),null))&&(d.success(s.t("Function updated successfully")),z.set(await K(localStorage.token)),A.set(await Q(localStorage.token)))};return P(async()=>{console.log("mounted");const r=t.url.searchParams.get("id");r&&(n(0,a=await G(localStorage.token,r).catch(m=>(d.error(m),H("/workspace/functions"),null))),console.log(a))}),[a,o,l,r=>{l(r.detail)}]}class ae extends D{constructor(e){super(),M(this,e,W,U,C,{})}}export{ae as component};
//# sourceMappingURL=15.88f4dafd.js.map
