(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3453],{28171:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(90849),i=r(90089),o=r(28841),u=r(98784),c=r(27378),s=r(79894),a=r.n(s),l=r(24246),d=function(e){var t=e.breadcrumbs;return(0,l.jsx)(o.aGc,{separator:"->",fontSize:"2xl",fontWeight:"semibold","data-testid":"breadcrumbs",children:t.map((function(e,r){var n=r+1===t.length,i=!!e.link||!!e.onClick;return(0,l.jsx)(o.gN6,{color:n||e.isOpaque?"black":"gray.500",children:i?(0,l.jsx)(o.Atw,{as:a(),href:e.link,isCurrentPage:n,children:e.title}):(0,l.jsx)(o.Atw,{_hover:{textDecoration:"none",cursor:"default"},isCurrentPage:n,children:e.title})},e.title)}))})},f=["breadcrumbs","isSticky","children"];function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){var t=e.breadcrumbs,r=e.isSticky,n=void 0===r||r,s=e.children,a=(0,i.Z)(e,f);return(0,l.jsxs)(o.xuv,j(j(j({bgColor:"white",paddingY:5},n?{position:"sticky",top:0,left:0,zIndex:10}:{}),a),{},{children:[(0,u.isArray)(t)&&(0,l.jsx)(o.xuv,{marginBottom:s?4:0,children:(0,l.jsx)(d,{breadcrumbs:t})}),(0,c.isValidElement)(t)&&t,s]}))}},26609:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(59003),i=r(92222),o=r(28841),u=r(86677),c=r(27378),s=r(55162),a=r(37522),l=r(90849),d=r(57984),f=r(65408),g=r(15266),j=r(67115),p=r(89329),h=r(73959),m=r(24246);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=function(e){var t=e.resourceType,r=(0,i.Cl)(),n=[];return t?t===j.X.SCHEMA?{columns:[r.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,m.jsx)(g.Z,{result:e.row.original})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Name"},e))}}),r.accessor((function(e){return e.urn}),{id:"project",cell:function(e){return(0,m.jsx)(s.G3,{value:(0,h.Z)(e.getValue())})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Project"},e))}}),r.display({id:"type",cell:function(){return(0,m.jsx)(s.G3,{value:"Dataset"})},header:"Type"}),r.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,m.jsx)(s.G3,{value:e.getValue()})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Detected by"},e))}}),r.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,m.jsx)(d.Cy,{time:e.getValue()})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"When"},e))}}),r.display({id:"actions",cell:function(e){return(0,m.jsx)(f.Z,{resource:e.row.original})},header:"Actions"})]}:t===j.X.TABLE?{columns:[r.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,m.jsx)(g.Z,{result:e.row.original})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Table name"},e))}}),r.accessor((function(e){return(0,p.Z)(e)}),{id:"type",cell:function(e){return(0,m.jsx)(s.G3,{value:e.getValue()})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Type"},e))}}),r.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,m.jsx)(s.G3,{value:e.getValue()})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Detected by"},e))}}),r.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,m.jsx)(d.Cy,{time:e.getValue()})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"When"},e))}}),r.display({id:"actions",cell:function(e){return(0,m.jsx)(f.Z,{resource:e.row.original})},header:"Actions"})]}:t===j.X.FIELD?{columns:[r.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,m.jsx)(g.Z,{result:e.row.original})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Field name"},e))}}),r.accessor((function(e){return(0,p.Z)(e)}),{id:"type",cell:function(e){return(0,m.jsx)(s.G3,{value:e.getValue()})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Type"},e))}}),r.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,m.jsx)(s.G3,{value:e.getValue()})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Detected by"},e))}}),r.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,m.jsx)(d.Cy,{time:e.getValue()})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"When"},e))}}),r.display({id:"actions",cell:function(e){return(0,m.jsx)(f.Z,{resource:e.row.original})},header:"Actions"})]}:{columns:n}:{columns:n}},y=r(1673),O=r(47079),w=r(4938),P=r(54012),D={items:[],total:0,page:1,size:50,pages:1},R=function(){return(0,m.jsx)(o.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,m.jsxs)(o.gCW,{children:[(0,m.jsx)(o.xvT,{fontSize:"md",fontWeight:"600",children:"No activity found"}),(0,m.jsx)(o.xvT,{fontSize:"sm",children:"You're up to date!"})]})})},_=function(e){var t,r=e.resourceUrn,l=(0,u.useRouter)(),d=(0,c.useState)(""),f=d[0],g=d[1],p=(0,c.useState)("true"===(null===(t=l.query)||void 0===t?void 0:t.showFullSchema)||!1),h=p[0],x=p[1],v=[w.LL.ADDITION,w.LL.REMOVAL];h&&(v.push(w.LL.MONITORED),v.push(w.LL.MUTED));var _=[w.LL.ADDITION,w.LL.REMOVAL];h&&(_.push(w.LL.MONITORED),_.push(w.LL.MUTED));var C=(0,s.oi)(),S=C.PAGE_SIZES,E=C.pageSize,L=C.setPageSize,k=C.onPreviousPageClick,T=C.isPreviousPageDisabled,Z=C.onNextPageClick,N=C.isNextPageDisabled,I=C.startRange,A=C.endRange,z=C.pageIndex,V=C.setTotalPages,M=(0,a.z8)({staged_resource_urn:r,page:z,size:E,child_diff_status:_,diff_status:v,search:f}),G=M.isFetching,W=M.isLoading,F=M.data,X=(0,O.G)(null===F||void 0===F?void 0:F.items[0]),q=b({resourceType:X}).columns,U=(0,c.useMemo)((function(){return null!==F&&void 0!==F?F:D}),[F]),B=U.items,H=U.total,Y=U.pages;(0,c.useEffect)((function(){V(Y)}),[Y,V]);var K=(0,c.useMemo)((function(){return q}),[q]),Q=(0,y.Z)().navigateToDetectionResults,$=X!==j.X.FIELD?function(e){return Q({resourceUrn:e.urn,showFullSchema:h})}:void 0,J=(0,n.b7)({getCoreRowModel:(0,i.sC)(),getGroupedRowModel:(0,i.qe)(),getExpandedRowModel:(0,i.rV)(),getRowId:function(e){var t;return null!==(t=e.name)&&void 0!==t?t:e.urn},columns:K,manualPagination:!0,data:B});return W?(0,m.jsx)(s.I4,{rowHeight:36,numRows:36}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.Q$,{children:(0,m.jsxs)(o.kCb,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"full",children:[(0,m.jsx)(o.xuv,{w:400,flexShrink:0,children:(0,m.jsx)(P.Z,{value:f,onChange:g})}),(0,m.jsxs)(o.kCb,{direction:"row",alignItems:"center",children:[(0,m.jsx)(o.rsf,{size:"sm",isChecked:h,onChange:function(){return x(!h)},colorScheme:"purple","data-testid":"full-schema-toggle"}),(0,m.jsx)(o.xvT,{marginLeft:2,fontSize:"xs",fontWeight:"medium",children:"Show full schema"})]})]})}),(0,m.jsx)(s.ZK,{tableInstance:J,onRowClick:$,emptyTableNotice:(0,m.jsx)(R,{})}),(0,m.jsx)(s.s8,{totalRows:H,pageSizes:S,setPageSize:L,onPreviousPageClick:k,isPreviousPageDisabled:T||G,onNextPageClick:Z,isNextPageDisabled:N||G,startRange:I,endRange:A})]})}},76861:function(e,t,r){"use strict";r.r(t);r(27378);var n=r(68512),i=r(28171),o=r(26609),u=r(24246);t.default=function(){return(0,u.jsxs)(n.Z,{title:"Data detection",mainProps:{padding:"0 40px 48px"},children:[(0,u.jsx)(i.Z,{breadcrumbs:[{title:"Data detection",isOpaque:!0},{title:"All activity"}]}),(0,u.jsx)(o.Z,{})]})}},35041:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-discovery/detection",function(){return r(76861)}])}},function(e){e.O(0,[8033,2142,338,5162,5087,9774,2888,179],(function(){return t=35041,e(e.s=t);var t}));var t=e.O();_N_E=t}]);