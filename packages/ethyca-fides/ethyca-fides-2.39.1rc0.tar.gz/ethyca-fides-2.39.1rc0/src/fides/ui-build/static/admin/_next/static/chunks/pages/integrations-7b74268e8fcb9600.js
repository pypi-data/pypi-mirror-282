(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[710],{42851:function(n,e,i){"use strict";i.r(e),i.d(e,{default:function(){return A}});var t,o=i(28841),r=i(27378),l=i(44204),a=i(67860),s=i(51471),c=i(57928),d=i(30646),u=i(40757),x=i(91083),f=i(24246),g=function(n){var e=n.integrationType,i=n.onConfigure,t=n.onCancel;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x.Z,{integration:null===e||void 0===e?void 0:e.placeholder,onConfigureClick:i}),null===e||void 0===e?void 0:e.overview,(0,f.jsxs)(o.kCb,{children:[(0,f.jsx)(o.LZC,{}),(0,f.jsx)(o.zxk,{variant:"outline",onClick:t,size:"sm",children:"Cancel"})]})]})},p=i(11061);!function(n){n.ALL="All",n.DATABASE="Database",n.DATA_WAREHOUSE="Data Warehouse"}(t||(t={}));var h,C=function(n){var e,i=Object.values(t),o=(0,r.useState)(0),l=o[0],a=o[1],s=i[l],c=(0,r.useState)(!1),d=c[0],u=c[1],x=s!==t.ALL,f=null!==(e=null===n||void 0===n?void 0:n.filter((function(n){return!x||n.category===s})))&&void 0!==e?e:[];return{tabs:i,tabIndex:l,anyFiltersApplied:x,isFiltering:d,onChangeFilter:function(n){u(!0),a(n),setTimeout((function(){return u(!1)}),100)},filteredTypes:f}},v=function(n){var e=n.onCancel,i=n.onDetailClick,t=n.onConfigureClick,r=C(p.FO),s=r.tabIndex,c=r.onChangeFilter,d=r.isFiltering,u=r.filteredTypes,g=r.tabs;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.mQc,{index:s,onChange:c,mb:4,children:(0,f.jsx)(o.tdY,{children:g.map((function(n){return(0,f.jsx)(l.q,{label:n},n)}))})}),d?(0,f.jsx)(a.Z,{}):(0,f.jsx)(o.kCb,{direction:"column",children:u.map((function(n){return(0,f.jsx)(x.Z,{integration:n.placeholder,onConfigureClick:function(){return t(n)},otherButtons:(0,f.jsx)(o.zxk,{onClick:function(){return i(n)},variant:"outline",children:"Details"})},n.placeholder.key)}))}),(0,f.jsxs)(o.kCb,{children:[(0,f.jsx)(o.LZC,{}),(0,f.jsx)(o.zxk,{variant:"outline",onClick:e,size:"sm",children:"Cancel"})]})]})},j=i(47524);!function(n){n.LIST_VIEW="list-view",n.DETAIL="detail",n.FORM="form"}(h||(h={}));var m=function(n){var e=n.isOpen,i=n.onClose,t=(0,r.useState)(h.LIST_VIEW),o=t[0],l=t[1],a=(0,r.useState)(),s=a[0],c=a[1],x=(0,j.Z)(null===s||void 0===s?void 0:s.placeholder.connection_type),p=function(){l(h.LIST_VIEW),c(void 0),i()},C=s?"".concat(s.placeholder.name," Integration"):"Add integration";return(0,f.jsxs)(d.Z,{isOpen:e,onClose:p,title:C,children:[o===h.LIST_VIEW&&(0,f.jsx)(v,{onCancel:p,onDetailClick:function(n){l(h.DETAIL),c(n)},onConfigureClick:function(n){l(h.FORM),c(n)}}),o===h.DETAIL&&(0,f.jsx)(g,{integrationType:s,onConfigure:function(){return l(h.FORM)},onCancel:p}),o===h.FORM&&(0,f.jsx)(u.Z,{connectionOption:x,onCancel:p})]})},k=i(86677),b=i(60709),y=function(n){var e=n.isFiltered,i=n.onOpenAddModal;return(0,f.jsxs)(o.kCb,{direction:"column",alignItems:"center","data-testid":"empty-state",children:[(0,f.jsx)(o.xvT,{color:"gray.700",fontWeight:"semibold",fontSize:"md",children:"No integrations"}),(0,f.jsx)(o.xvT,{color:"gray.700",fontSize:"sm",marginTop:"8px",children:e?"No integrations match your filters":"You have not configured any integrations"}),(0,f.jsx)(o.xvT,{color:"gray.700",fontSize:"sm",children:'Click "Add integration" to connect and configure systems now.'}),(0,f.jsx)(o.zxk,{variant:"primary",size:"sm",marginTop:"16px",onClick:i,children:"Add integration"})]})},T=function(n){var e=n.integrations,i=n.isFiltered,t=n.onOpenAddModal,r=(0,k.useRouter)();return(0,f.jsx)(o.xuv,{marginTop:"24px",children:e.length?e.map((function(n){return(0,f.jsx)(x.Z,{integration:n,showTestNotice:!0,configureButtonLabel:"Manage",onConfigureClick:function(){return r.push("".concat(b.KH,"/").concat(n.key))}},n.key)})):(0,f.jsx)(y,{onOpenAddModal:t,isFiltered:i})})},A=function(){var n,e,i=(0,c.AZ)({connection_type:p.jq}),t=i.data,r=i.isLoading,d=(0,o.qY0)(),u=d.onOpen,x=d.isOpen,g=d.onClose,h=C(null===t||void 0===t||null===(n=t.items)||void 0===n?void 0:n.map((function(n){return(0,p.ZP)(n.connection_type)}))),v=h.tabIndex,j=h.onChangeFilter,k=h.anyFiltersApplied,b=h.isFiltering,y=h.filteredTypes,A=h.tabs,_=null!==(e=null===t||void 0===t?void 0:t.items.filter((function(n){return y.some((function(e){return e.placeholder.connection_type===n.connection_type}))})))&&void 0!==e?e:[];return(0,f.jsxs)(s.Z,{title:"Integrations",children:[(0,f.jsx)(o.X6q,{mb:2,fontSize:"2xl",fontWeight:"semibold",children:"Integrations"}),(0,f.jsxs)(o.xuv,{"data-testid":"integration-tabs",display:"flex",children:[(0,f.jsx)(o.mQc,{index:v,onChange:j,w:"full",children:(0,f.jsx)(o.tdY,{children:A.map((function(n){return(0,f.jsx)(l.q,{label:n},n)}))})}),(0,f.jsx)(o.xuv,{borderBottom:"2px solid",borderColor:"gray.200",height:"fit-content",pr:"2",pb:"2",children:(0,f.jsxs)(o.zxk,{size:"sm",variant:"outline",onClick:u,"data-testid":"add-integration-btn",children:["Add Integration",(0,f.jsx)(o.xPt,{marginLeft:"8px"})]})})]}),r||b?(0,f.jsx)(a.Z,{}):(0,f.jsx)(T,{integrations:_,onOpenAddModal:u,isFiltered:k}),(0,f.jsx)(m,{isOpen:x,onClose:g})]})}},9387:function(n,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/integrations",function(){return i(42851)}])}},function(n){n.O(0,[2160,338,3139,9662,9774,2888,179],(function(){return e=9387,n(n.s=e);var e}));var e=n.O();_N_E=e}]);