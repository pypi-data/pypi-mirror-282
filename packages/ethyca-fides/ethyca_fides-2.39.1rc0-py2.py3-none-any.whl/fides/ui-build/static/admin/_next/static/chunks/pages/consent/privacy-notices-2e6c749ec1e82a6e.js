(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7262],{68512:function(e,t,n){"use strict";var r=n(90849),i=n(28841),o=n(88038),a=n.n(o),s=(n(27378),n(24246));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.children,n=e.title,r=e.mainProps;return(0,s.jsxs)(i.kCb,{"data-testid":n,direction:"column",height:"calc(100vh - 48px)",width:"calc(100vw - 200px)",children:[(0,s.jsxs)(a(),{children:[(0,s.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,s.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)(i.kCb,u(u({pt:6,as:"main",overflow:"auto",direction:"column",flex:1,minWidth:0},r),{},{children:t}))]})}},63238:function(e,t,n){"use strict";n.d(t,{Tg:function(){return a}});var r=n(6848),i=n(67788),o=n(24246),a=function(e){return(0,r.C)(i.uu).filter((function(t){return e.includes(t)})).length>0};t.ZP=function(e){var t=e.scopes,n=e.children;return a(t)?(0,o.jsx)(o.Fragment,{children:n}):null}},91381:function(e,t,n){"use strict";n.d(t,{JA:function(){return y},JL:function(){return j},PS:function(){return w},jN:function(){return x}});var r=n(55732),i=n(97865),o=n(90849),a=n(90089),s=n(34707),c=n.n(s),u=n(28841),l=(n(27378),n(64429)),d=n(57984),f=n(20800),p=n(15749),g=n(24246),h=["tooltip"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){var t,n=null!==(t=f.ye.get(e))&&void 0!==t?t:e;return(0,g.jsx)(u.Cts,{size:"sm",width:"fit-content","data-testid":"status-badge",textTransform:"uppercase",fontWeight:"400",color:"gray.600",px:2,children:n})},j=function(e){if(!e)return[];var t=[];return e.forEach((function(e){var n=l.NA.get(e);void 0!==n&&t.push(n)})),t},m={available:{backgroundColor:"orange.100",color:"orange.800",tooltip:"This notice is associated with a system + data use and can be enabled"},enabled:{backgroundColor:"green.100",color:"green.800",tooltip:"This notice is active and available for consumers"},inactive:{backgroundColor:"gray.100",color:"gray.800",tooltip:"This privacy notice cannot be enabled because it either does not have a data use or the linked data use has not been assigned to a system"}},x=function(e){var t,n=e.row.original,r=n.systems_applicable,i=n.disabled,o=(t=n.data_uses&&r?i?"available":"enabled":"inactive")?m[t]:{},s=o.tooltip,c=void 0===s?void 0:s,l=(0,a.Z)(o,h);return(0,g.jsx)(u.ua7,{label:c,children:(0,g.jsx)(u.Cts,v(v({size:"sm",width:"fit-content"},l),{},{"data-testid":"status-badge",textTransform:"uppercase",fontWeight:"400",color:"gray.600",px:2,children:t}))})},w=function(e){var t=e.row,n=e.getValue,o=(0,p.vK)(),a=(0,i.Z)(o,1)[0],s=n(),u=function(){var e=(0,r.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a({id:t.original.id,disabled:!n}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=t.original,f=l.systems_applicable,h=l.disabled,b=l.data_uses,v=h&&!f||!!!b;return(0,g.jsx)(d.S1,{enabled:!s,isDisabled:v,onToggle:u,title:"Disable privacy notice",message:"Are you sure you want to disable this privacy notice? Disabling this notice means your users will no longer see this explanation about your data uses which is necessary to ensure compliance."})}},20800:function(e,t,n){"use strict";n.d(t,{Ep:function(){return i},ye:function(){return r}});var r=new Map([["opt_in","Opt in"],["notice_only","Notice only"],["opt_out","Opt out"]]),i=(new Map([["system_wide","System wide"],["frontend","Front end"],["not_applicable","Not applicable"]]),new Map([["gpp_us_national","GPP US National"],["gpp_us_state","GPP US State"]]))},522:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(28841),i=n(27378),o=n(68512),a=n(90849),s=n(92222),c=n(59003),u=n(55162),l=n(79894),d=n.n(l),f=n(86677),p=n(60709),g=n(63238),h=n(44047),b=n(91381),v=n(20800),y=n(15749),j=n(4938),m=n(24246);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={items:[],total:0,page:1,size:25,pages:1},P=function(){return(0,m.jsxs)(r.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",margin:"auto",children:[(0,m.jsxs)(r.gCW,{children:[(0,m.jsx)(r.xvT,{fontSize:"md",fontWeight:"600",children:"No privacy notices found."}),(0,m.jsx)(r.xvT,{fontSize:"sm",children:'Click "Add a privacy notice" to add your first privacy notice to Fides.'})]}),(0,m.jsx)(d(),{href:"".concat(p.IT,"/new"),children:(0,m.jsx)(r.zxk,{size:"xs",colorScheme:"primary","data-testid":"add-privacy-notice-btn",children:"Add a privacy notice +"})})]})},_=(0,s.Cl)(),S=function(){var e=(0,h.x8)().isLoading,t=(0,f.useRouter)(),n=(0,g.Tg)([j.Sh.PRIVACY_NOTICE_UPDATE]),o=(0,u.oi)(),a=o.PAGE_SIZES,l=o.pageSize,x=o.setPageSize,S=o.onPreviousPageClick,k=o.isPreviousPageDisabled,C=o.onNextPageClick,E=o.isNextPageDisabled,N=o.startRange,T=o.endRange,D=o.pageIndex,R=o.setTotalPages,z=(0,y.J6)({page:D,size:l}),A=z.isFetching,M=z.isLoading,F=z.data,I=(0,i.useMemo)((function(){return F||O}),[F]),Z=I.items,L=I.total,V=I.pages;(0,i.useEffect)((function(){R(V)}),[V,R]);var W=(0,i.useMemo)((function(){return[_.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,m.jsx)(u.G3,{value:e.getValue()})},header:function(e){return(0,m.jsx)(u.Rr,w({value:"Title"},e))}}),_.accessor((function(e){return e.consent_mechanism}),{id:"consent_mechanism",cell:function(e){return(0,b.JA)(e.getValue())},header:function(e){return(0,m.jsx)(u.Rr,w({value:"Mechanism"},e))}}),_.accessor((function(e){return e.configured_regions}),{id:"regions",cell:function(e){var t;return null!==(t=(0,b.JL)(e.getValue()))&&void 0!==t&&t.length?(0,m.jsx)(u.WP,w({suffix:"Locations",value:(0,b.JL)(e.getValue())},e)):(0,m.jsx)(u.G3,{value:"Unassigned"})},header:function(e){return(0,m.jsx)(u.Rr,w({value:"Locations"},e))},meta:{displayText:"Locations",showHeaderMenu:!0}}),_.accessor((function(e){return e.disabled}),{id:"status",cell:function(e){return(0,b.jN)(e)},header:function(e){return(0,m.jsx)(u.Rr,w({value:"Status"},e))}}),_.accessor((function(e){return e.framework}),{id:"framework",cell:function(e){return e.getValue()?(0,m.jsx)(u.A4,{value:v.Ep.get(e.getValue())}):null},header:function(e){return(0,m.jsx)(u.Rr,w({value:"Framework"},e))}}),n&&_.accessor((function(e){return e.disabled}),{id:"enable",cell:b.PS,header:function(e){return(0,m.jsx)(u.Rr,w({value:"Enable"},e))},meta:{disableRowClick:!0}})].filter(Boolean)}),[n]),G=(0,c.b7)({getCoreRowModel:(0,s.sC)(),getGroupedRowModel:(0,s.qe)(),getExpandedRowModel:(0,s.rV)(),columns:W,manualPagination:!0,data:Z,state:{expanded:!0}});return M||e?(0,m.jsx)(u.I4,{rowHeight:36,numRows:15}):(0,m.jsx)("div",{children:(0,m.jsxs)(r.kCb,{flex:1,direction:"column",overflow:"auto",children:[n&&(0,m.jsx)(u.Q$,{children:(0,m.jsx)(r.Ugi,{alignItems:"center",spacing:4,marginLeft:"auto",children:(0,m.jsx)(d(),{href:"".concat(p.IT,"/new"),children:(0,m.jsx)(r.zxk,{size:"xs",colorScheme:"primary","data-testid":"add-privacy-notice-btn",children:"Add a privacy notice +"})})})}),(0,m.jsx)(u.ZK,{tableInstance:G,onRowClick:n?function(e){var r=e.id;n&&t.push("".concat(p.IT,"/").concat(r))}:void 0,emptyTableNotice:(0,m.jsx)(P,{})}),(0,m.jsx)(u.s8,{totalRows:L,pageSizes:a,setPageSize:x,onPreviousPageClick:S,isPreviousPageDisabled:k||A,onNextPageClick:C,isNextPageDisabled:E||A,startRange:N,endRange:T})]})})},k=function(){return(0,m.jsxs)(o.Z,{title:"Privacy notices",mainProps:{padding:"24px 40px"},children:[(0,m.jsx)(r.xuv,{mb:4,children:(0,m.jsx)(r.X6q,{fontSize:"2xl",fontWeight:"semibold",mb:2,"data-testid":"header",children:"Manage privacy notices"})}),(0,m.jsx)(r.xvT,{fontSize:"sm",mb:8,width:{base:"100%",lg:"50%"},children:"Manage the privacy notices and mechanisms that are displayed to your users based on their location, what information you collect about them, and how you use that data."}),(0,m.jsx)(r.xuv,{"data-testid":"privacy-notices-page",children:(0,m.jsx)(S,{})})]})}},81575:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/consent/privacy-notices",function(){return n(522)}])},76649:function(e,t,n){"use strict";n.d(t,{Ln:function(){return r},uX:function(){return a}});const r=(e,t)=>o(e,t),i=Symbol("SOME"),o=(e,t)=>{if("string"==typeof e)return e===typeof t;if(Array.isArray(e))return i in e?e.some((e=>o(e,t))):!!Array.isArray(t)&&(0===e.length||t.every((t=>e.some((e=>o(e,t))))));if("object"!=typeof t||null===t)return!1;const n=t;return Object.entries(e).every((([e,t])=>o(t,n[e])))},a=e=>t=>r(e,t);class s{static narrow(e){return new s((t=>r(e,t)))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){const t=this.NF,n=e instanceof s?e.NF:e instanceof Function?e:t=>r(e,t);return new s((e=>t(e)&&n(e)))}}new s((e=>!0))}},function(e){e.O(0,[2142,338,5162,4429,9774,2888,179],(function(){return t=81575,e(e.s=t);var t}));var t=e.O();_N_E=t}]);