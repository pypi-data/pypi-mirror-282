"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8014],{6719:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(27378),i=n(25773),o=n(36924),a=n(38097),s=n(50189),u=n(70409),c=n(53782),l=n(53991),d=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=String(e).toLowerCase(),i=String(n.getOptionValue(t)).toLowerCase(),o=String(n.getOptionLabel(t)).toLowerCase();return i===r||o===r},f={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,r){return!(!e||t.some((function(t){return p(e,t,r)}))||n.some((function(t){return p(e,t,r)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};n(31542),n(92486);var g=(0,r.forwardRef)((function(e,t){var n=function(e){var t=e.allowCreateWhileLoading,n=void 0!==t&&t,i=e.createOptionPosition,a=void 0===i?"last":i,p=e.formatCreateLabel,g=void 0===p?f.formatCreateLabel:p,m=e.isValidNewOption,v=void 0===m?f.isValidNewOption:m,b=e.getNewOptionData,y=void 0===b?f.getNewOptionData:b,h=e.onCreateOption,j=e.options,O=void 0===j?[]:j,x=e.onChange,w=(0,c.Z)(e,d),T=w.getOptionValue,C=void 0===T?o.g:T,E=w.getOptionLabel,P=void 0===E?o.b:E,_=w.inputValue,S=w.isLoading,I=w.isMulti,R=w.value,M=w.name,D=(0,r.useMemo)((function(){return v(_,(0,l.I)(R),O,{getOptionValue:C,getOptionLabel:P})?y(_,g(_)):void 0}),[g,y,P,C,_,v,O,R]),k=(0,r.useMemo)((function(){return!n&&S||!D?O:"first"===a?[D].concat((0,u.Z)(O)):[].concat((0,u.Z)(O),[D])}),[n,a,S,D,O]),V=(0,r.useCallback)((function(e,t){if("select-option"!==t.action)return x(e,t);var n=Array.isArray(e)?e:[e];if(n[n.length-1]!==D)x(e,t);else if(h)h(_);else{var r=y(_,_),i={action:"create-option",name:M,option:r};x((0,l.D)(I,[].concat((0,u.Z)((0,l.I)(R)),[r]),r),i)}}),[y,_,I,M,D,h,x,R]);return(0,s.Z)((0,s.Z)({},w),{},{options:k,onChange:V})}((0,a.u)(e));return r.createElement(o.S,(0,i.Z)({ref:t},n))})),m=n(32916);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var b=(0,r.forwardRef)((function(e,t){var n=(0,m.Z)(e);return r.createElement(g,v({ref:t},n))}))},51471:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(90849),i=n(28841),o=n(88038),a=n.n(o),s=n(86677),u=(n(27378),n(90768)),c=n(51365),l=n(60709),d=n(24246),p=function(){var e=(0,s.useRouter)();return(0,d.jsx)(i.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,d.jsxs)(i.xuv,{children:[(0,d.jsxs)(i.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,d.jsx)(i.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,d.jsx)(i.zxk,{size:"sm",variant:"outline",onClick:function(){e.push(l.fz)},children:"Configure"})]}),(0,d.jsxs)(i.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t=e.children,n=e.title,r=e.padded,o=void 0===r||r,l=e.mainProps,f=(0,u.hz)(),m=(0,s.useRouter)(),v="/privacy-requests"===m.pathname||"/datastore-connection"===m.pathname,b=!(f.flags.privacyRequestsConfiguration&&v),y=(0,c.JE)(void 0,{skip:b}).data,h=(0,c.PW)(void 0,{skip:b}).data,j=f.flags.privacyRequestsConfiguration&&(!y||!h)&&v;return(0,d.jsxs)(i.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,d.jsxs)(a(),{children:[(0,d.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,d.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,d.jsxs)(i.kCb,g(g({as:"main",direction:"column",py:o?6:0,px:o?10:0,h:o?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto"},l),{},{children:[j?(0,d.jsx)(p,{}):null,t]}))]})}},85375:function(e,t,n){var r=n(90849),i=n(73679),o=n(58981),a=n(28841),s=n(60153),u=n(89871),c=n(58897),l=n(27378),d=n(43139),p=n(38687),f=n(24246);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t=e.item,n=e.label,r=e.draggable,i=e.onDeleteItem,o=e.onRowClick,c=e.maxH,l=void 0===c?10:c,d=e.rowTestId,p=(0,s.o)();return(0,f.jsx)(u.t.Item,{value:t,dragListener:!1,dragControls:p,children:(0,f.jsxs)(a.kCb,{direction:"row",gap:2,maxH:l,w:"full",px:2,align:"center",role:"group",borderY:"1px",my:"-1px",borderColor:"gray.200",_hover:o?{bgColor:"gray.100"}:void 0,bgColor:"white",children:[r?(0,f.jsx)(a.VVU,{onPointerDown:function(e){return p.start(e)},cursor:"grab"}):null,(0,f.jsx)(a.kCb,{direction:"row",gap:2,p:2,align:"center",w:"full",cursor:o?"pointer":"auto",onClick:function(){o&&o(t)},overflow:"clip","data-testid":d,children:(0,f.jsx)(a.xvT,{fontSize:"sm",userSelect:"none",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",children:n})}),i?(0,f.jsx)(a.hU,{"aria-label":"Delete",onClick:function(){return i(t)},icon:(0,f.jsx)(a.pJl,{}),size:"xs",variant:"outline",bgColor:"white",visibility:"hidden",alignSelf:"end",mb:2,_groupHover:{visibility:"visible"}}):null]})})},b=function(e){var t=e.label,n=e.options,r=e.onOptionSelected,i=e.baseTestId,s=(0,l.useState)(!1),u=s[0],c=s[1],p=(0,l.useState)(void 0),g=p[0],m=p[1];return u?(0,f.jsx)(a.xuv,{w:"full","data-testid":"select-".concat(i),children:(0,f.jsx)(o.Z,{chakraStyles:d.hP,size:"sm",value:g,options:n,onChange:function(e){return r(e),c(!1),void m(void 0)},autoFocus:!0,menuPosition:"fixed",menuPlacement:"auto",classNamePrefix:"select-".concat(i)})}):(0,f.jsx)(a.zxk,{onClick:function(){return c(!0)},w:"full",size:"sm",variant:"outline",rightIcon:(0,f.jsx)(a.jBn,{boxSize:4}),"data-testid":"add-".concat(i),children:t})};t.Z=function(e){var t=e.label,n=e.tooltip,r=e.draggable,o=e.addButtonLabel,s=e.allItems,l=e.idField,g=e.nameField,y=void 0===g?l:g,h=e.values,j=e.setValues,O=e.canDeleteItem,x=e.onRowClick,w=e.selectOnAdd,T=e.getItemLabel,C=e.createNewValue,E=e.maxHeight,P=void 0===E?36:E,_=e.baseTestId,S=function(e){return e instanceof Object&&l&&l in e?e[l]:e},I=s.every((function(e){return"string"===typeof e}))?s.filter((function(e){return h.every((function(t){return t!==e}))})):s.filter((function(e){return h.every((function(t){return S(t)!==S(e)}))})),R=function(e){j(h.filter((function(t){return t!==e})).slice())},M=null!==T&&void 0!==T?T:function(e){return e instanceof Object&&l&&l in e?y&&y in e?e[y]:e[l]:e},D=function(e){var t=e instanceof Object&&l&&l in e?e[l]:e;return{label:M(e),value:t}},k=function(e){var t=C?C(e):function(e){return s.every((function(e){return"string"===typeof e}))?e.value:s.find((function(t){return t[l]===e.value}))}(e);j([t].concat((0,i.Z)(h.slice()))),w&&x&&x(t)},V={border:"1px",borderColor:"gray.200",borderRadius:"md",w:"full",maxH:"8.5rem",overflowY:"auto"},q=r?(0,f.jsx)(a.xuv,m(m({as:c.E.div,layoutScroll:!0},V),{},{children:(0,f.jsx)(u.t.Group,{values:h,onReorder:function(e){return j(e.slice())},children:h.map((function(e){var t=S(e);return(0,f.jsx)(v,{item:e,label:M(e),onDeleteItem:!O||O&&O(e)?R:void 0,onRowClick:x,draggable:!0,maxH:P,rowTestId:"".concat(_,"-row-").concat(t)},t)}))})})):(0,f.jsx)(a.xuv,m(m({},V),{},{children:(0,f.jsx)(a.aVo,{children:h.map((function(e){var t=S(e);return(0,f.jsx)(v,{item:e,label:M(e),onRowClick:x,onDeleteItem:R,maxH:P,rowTestId:"".concat(_,"-row-").concat(t)},t)}))})}));return h.length?(0,f.jsxs)(a.kCb,{align:"start",direction:"column",w:"full",gap:4,children:[t?(0,f.jsx)(d.__,{htmlFor:"test",fontSize:"xs",my:0,mr:1,children:t}):null,n?(0,f.jsx)(p.Z,{label:n}):null,q,I.length?(0,f.jsx)(b,{label:null!==o&&void 0!==o?o:"Add new",options:I.map((function(e){return D(e)})),onOptionSelected:k,baseTestId:_}):null]}):(0,f.jsx)(b,{label:null!==o&&void 0!==o?o:"Add new",options:I.map((function(e){return D(e)})),onOptionSelected:k,baseTestId:_})}},86054:function(e,t,n){var r=n(90849),i=n(90089),o=n(28841),a=n(38687),s=n(24246),u=["title","tooltip","children"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.title,n=e.tooltip,r=e.children,c=(0,i.Z)(e,u);return(0,s.jsxs)(o.xuv,l(l({borderRadius:"md",border:"1px solid",borderColor:"gray.200"},c),{},{children:[(0,s.jsxs)(o.X6q,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:[t,n?(0,s.jsx)(o.xvT,{as:"span",mx:1,children:(0,s.jsx)(a.Z,{label:n})}):void 0]}),(0,s.jsx)(o.Kqy,{p:6,spacing:6,children:r})]}))}},24753:function(e,t,n){n.d(t,{MA:function(){return l},Vo:function(){return p},t5:function(){return d}});var r=n(90849),i=n(28841),o=n(24246);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.children;return(0,o.jsxs)(i.xvT,{"data-testid":"toast-success-msg",children:[(0,o.jsx)("strong",{children:"Success:"})," ",t]})},c=function(e){var t=e.children;return(0,o.jsxs)(i.xvT,{"data-testid":"toast-error-msg",children:[(0,o.jsx)("strong",{children:"Error:"})," ",t]})},l={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var t=(0,o.jsx)(u,{children:e});return s(s({},l),{description:t})},p=function(e){var t=(0,o.jsx)(c,{children:e});return s(s({},l),{description:t,status:"error"})}},6887:function(e,t,n){n.d(t,{Z:function(){return a}});var r,i,o=n(90849);!function(e){e.PRIVACY_REQUEST_REVIEW_APPROVE="privacy_request_review_approve",e.PRIVACY_REQUEST_REVIEW_DENY="privacy_request_review_deny",e.PRIVACY_REQUEST_RECEIPT="privacy_request_receipt",e.PRIVACY_REQUEST_COMPLETE_ACCESS="privacy_request_complete_access",e.PRIVACY_REQUEST_COMPLETE_DELETION="privacy_request_complete_deletion",e.SUBJECT_IDENTITY_VERIFICATION="subject_identity_verification"}(r||(r={}));var a=(i={},(0,o.Z)(i,r.PRIVACY_REQUEST_COMPLETE_ACCESS,"Access request completed"),(0,o.Z)(i,r.PRIVACY_REQUEST_COMPLETE_DELETION,"Erasure request completed"),(0,o.Z)(i,r.PRIVACY_REQUEST_RECEIPT,"Privacy request received"),(0,o.Z)(i,r.PRIVACY_REQUEST_REVIEW_APPROVE,"Privacy request approved"),(0,o.Z)(i,r.PRIVACY_REQUEST_REVIEW_DENY,"Privacy request denied"),(0,o.Z)(i,r.SUBJECT_IDENTITY_VERIFICATION,"Subject identity verification"),i)},88744:function(e,t,n){var r=n(60709),i=n(28841),o=n(34090),a=n(86677),s=n(6848),u=n(86054),c=n(43139),l=n(85375),d=n(6887),p=n(760),f=n(24246),g=function(){var e,t=(0,s.C)(p.Zp),n=(0,s.C)(p.G1);(0,p.gz)({page:t,size:n});var r=(0,s.C)(p.YO),i=(0,o.u6)(),a=i.values,u=i.setFieldValue;return(0,f.jsx)(l.Z,{label:"Associated properties",addButtonLabel:"Add property",idField:"id",nameField:"name",allItems:r.map((function(e){return{id:e.id,name:e.name}})),values:null!==(e=a.properties)&&void 0!==e?e:[],setValues:function(e){return u("properties",e)},draggable:!0,maxHeight:100,baseTestId:"property"})};t.Z=function(e){var t=e.template,n=e.handleSubmit,s=e.handleDelete,l=(0,a.useRouter)(),p=function(){l.push(r.q)},m={type:t.type,content:t.content,properties:t.properties||[],is_enabled:t.is_enabled,id:t.id||""};return(0,f.jsx)(o.J9,{enableReinitialize:!0,initialValues:m,onSubmit:n,children:function(e){var t=e.dirty,n=e.isValid,r=e.isSubmitting;return(0,f.jsxs)(o.l0,{style:{paddingTop:"12px",paddingBottom:"12px"},children:[(0,f.jsx)(i.xuv,{py:3,children:(0,f.jsxs)(u.Z,{title:"".concat(d.Z[m.type]),children:[(0,f.jsx)(c.j0,{isRequired:!0,label:"Email subject",name:"content.subject",variant:"stacked"}),(0,f.jsx)(c.Ks,{isRequired:!0,label:"Message body",name:"content.body",value:"test",variant:"stacked",resize:!0}),(0,f.jsx)(i.xuv,{py:3,children:(0,f.jsx)(g,{})}),(0,f.jsx)(c.w8,{name:"is_enabled",label:"Enable message",variant:"switchFirst"})]})}),(0,f.jsxs)(i.kCb,{justifyContent:"space-between",width:"100%",paddingTop:2,children:[m.id&&s&&(0,f.jsx)(i.zxk,{"data-testid":"delete-template-button",size:"sm",variant:"outline",isLoading:!1,mr:3,onClick:s,children:"Delete"}),(0,f.jsxs)(i.kCb,{justifyContent:"right",width:"100%",paddingTop:2,children:[(0,f.jsx)(i.zxk,{size:"sm",variant:"outline",isLoading:!1,mr:3,onClick:p,children:"Cancel"}),(0,f.jsx)(i.zxk,{size:"sm",type:"submit",colorScheme:"primary",isDisabled:r||!t||!n,isLoading:r,"data-testid":"submit-btn",children:"Save"})]})]})]})}})}},16436:function(e,t,n){n.d(t,{KC:function(){return c},Vw:function(){return l},ew:function(){return d},gQ:function(){return s},jM:function(){return i},lE:function(){return o},ms:function(){return a},pS:function(){return u},vm:function(){return p}});var r=n(28703).u.injectEndpoints({endpoints:function(e){return{getMessagingTemplates:e.query({query:function(){return{url:"messaging/templates"}},providesTags:function(){return["Messaging Templates"]}}),getSummaryMessagingTemplates:e.query({query:function(e){return{method:"GET",url:"messaging/templates/summary",params:e}},providesTags:function(){return["Property-Specific Messaging Templates"]}}),updateMessagingTemplates:e.mutation({query:function(e){return{url:"messaging/templates",method:"PUT",body:e}},invalidatesTags:function(){return["Property-Specific Messaging Templates"]}}),getMessagingTemplateById:e.query({query:function(e){return{url:"/messaging/templates/".concat(e)}},providesTags:function(){return["Property-Specific Messaging Templates"]}}),putMessagingTemplateById:e.mutation({query:function(e){var t=e.templateId,n=e.template;return{url:"/messaging/templates/".concat(t),method:"PUT",body:n}},invalidatesTags:function(){return["Property-Specific Messaging Templates"]}}),patchMessagingTemplateById:e.mutation({query:function(e){var t=e.templateId,n=e.template;return{url:"/messaging/templates/".concat(t),method:"PATCH",body:n}},invalidatesTags:function(){return["Property-Specific Messaging Templates"]}}),getMessagingTemplateDefault:e.query({query:function(e){return{url:"/messaging/templates/default/".concat(e)}}}),createMessagingTemplateByType:e.mutation({query:function(e){var t=e.templateType,n=e.template;return{url:"/messaging/templates/".concat(t),method:"POST",body:n}},invalidatesTags:function(){return["Property-Specific Messaging Templates"]}}),deleteMessagingTemplateById:e.mutation({query:function(e){return{url:"/messaging/templates/".concat(e),method:"DELETE"}},invalidatesTags:function(){return["Property-Specific Messaging Templates"]}})}}}),i=r.useGetMessagingTemplatesQuery,o=r.useUpdateMessagingTemplatesMutation,a=r.useGetSummaryMessagingTemplatesQuery,s=r.useGetMessagingTemplateByIdQuery,u=r.usePutMessagingTemplateByIdMutation,c=r.useGetMessagingTemplateDefaultQuery,l=r.useCreateMessagingTemplateByTypeMutation,d=r.useDeleteMessagingTemplateByIdMutation,p=r.usePatchMessagingTemplateByIdMutation},33167:function(e,t,n){n.d(t,{isAPIError:function(){return r.Bw},isErrorResult:function(){return r.D4}});var r=n(60041)},76649:function(e,t,n){n.d(t,{Ln:function(){return r},uX:function(){return a}});const r=(e,t)=>o(e,t),i=Symbol("SOME"),o=(e,t)=>{if("string"==typeof e)return e===typeof t;if(Array.isArray(e))return i in e?e.some((e=>o(e,t))):!!Array.isArray(t)&&(0===e.length||t.every((t=>e.some((e=>o(e,t))))));if("object"!=typeof t||null===t)return!1;const n=t;return Object.entries(e).every((([e,t])=>o(t,n[e])))},a=e=>t=>r(e,t);class s{static narrow(e){return new s((t=>r(e,t)))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){const t=this.NF,n=e instanceof s?e.NF:e instanceof Function?e:t=>r(e,t);return new s((e=>t(e)&&n(e)))}}new s((e=>!0))}}]);