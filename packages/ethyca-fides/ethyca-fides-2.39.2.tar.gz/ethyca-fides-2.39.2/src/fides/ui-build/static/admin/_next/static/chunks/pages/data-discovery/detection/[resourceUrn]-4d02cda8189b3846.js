(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5744],{30957:function(e,n,r){"use strict";var t=r(28841),i=r(79894),o=r.n(i),u=r(24246);n.Z=function(e){var n=e.resourceUrn,r=e.parentTitle,i=e.parentLink,c=e.onPathClick,s=void 0===c?function(){}:c,a=n?n.split("."):[];return(0,u.jsxs)(t.aGc,{separator:"->",fontSize:"2xl",fontWeight:"semibold",mb:5,"data-testid":"results-breadcrumb",children:[(0,u.jsx)(t.gN6,{color:n?"gray.500":"black",children:(0,u.jsx)(t.Atw,{as:o(),href:i,children:r})}),n?null:(0,u.jsx)(t.gN6,{color:n?"gray.500":"black",children:(0,u.jsx)(t.Atw,{children:"All activity"})}),a.map((function(e,n){if(0===n||1===n)return null;var r=n===a.length-1;return(0,u.jsx)(t.gN6,{color:r?"black":"gray.500",children:(0,u.jsx)(t.Atw,{onClick:function(){return s(a.slice(0,n+1).join("."))},children:e})},e)}))]})}},26609:function(e,n,r){"use strict";r.d(n,{Z:function(){return D}});var t=r(59003),i=r(92222),o=r(28841),u=r(86677),c=r(27378),s=r(55162),a=r(37522),l=r(90849),d=r(57984),f=r(65408),g=r(15266),h=r(67115),x=r(89329),j=r(73959),m=r(24246);function p(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function v(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){(0,l.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var b=function(e){var n=e.resourceType,r=(0,i.Cl)(),t=[];return n?n===h.X.SCHEMA?{columns:[r.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,m.jsx)(g.Z,{result:e.row.original})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Name"},e))}}),r.accessor((function(e){return e.urn}),{id:"project",cell:function(e){return(0,m.jsx)(s.G3,{value:(0,j.Z)(e.getValue())})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Project"},e))}}),r.display({id:"type",cell:function(){return(0,m.jsx)(s.G3,{value:"Dataset"})},header:"Type"}),r.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,m.jsx)(s.G3,{value:e.getValue()})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Detected by"},e))}}),r.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,m.jsx)(d.Cy,{time:e.getValue()})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"When"},e))}}),r.display({id:"actions",cell:function(e){return(0,m.jsx)(f.Z,{resource:e.row.original})},header:"Actions"})]}:n===h.X.TABLE?{columns:[r.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,m.jsx)(g.Z,{result:e.row.original})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Table name"},e))}}),r.accessor((function(e){return(0,x.Z)(e)}),{id:"type",cell:function(e){return(0,m.jsx)(s.G3,{value:e.getValue()})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Type"},e))}}),r.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,m.jsx)(s.G3,{value:e.getValue()})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Detected by"},e))}}),r.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,m.jsx)(d.Cy,{time:e.getValue()})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"When"},e))}}),r.display({id:"actions",cell:function(e){return(0,m.jsx)(f.Z,{resource:e.row.original})},header:"Actions"})]}:n===h.X.FIELD?{columns:[r.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,m.jsx)(g.Z,{result:e.row.original})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Field name"},e))}}),r.accessor((function(e){return(0,x.Z)(e)}),{id:"type",cell:function(e){return(0,m.jsx)(s.G3,{value:e.getValue()})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Type"},e))}}),r.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,m.jsx)(s.G3,{value:e.getValue()})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"Detected by"},e))}}),r.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,m.jsx)(d.Cy,{time:e.getValue()})},header:function(e){return(0,m.jsx)(s.Rr,v({value:"When"},e))}}),r.display({id:"actions",cell:function(e){return(0,m.jsx)(f.Z,{resource:e.row.original})},header:"Actions"})]}:{columns:t}:{columns:t}},y=r(1673),w=r(47079),P=r(4938),R=r(54012),O={items:[],total:0,page:1,size:50,pages:1},_=function(){return(0,m.jsx)(o.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,m.jsxs)(o.gCW,{children:[(0,m.jsx)(o.xvT,{fontSize:"md",fontWeight:"600",children:"No activity found"}),(0,m.jsx)(o.xvT,{fontSize:"sm",children:"You're up to date!"})]})})},D=function(e){var n,r=e.resourceUrn,l=(0,u.useRouter)(),d=(0,c.useState)(""),f=d[0],g=d[1],x=(0,c.useState)("true"===(null===(n=l.query)||void 0===n?void 0:n.showFullSchema)||!1),j=x[0],p=x[1],v=[P.LL.ADDITION,P.LL.REMOVAL];j&&(v.push(P.LL.MONITORED),v.push(P.LL.MUTED));var D=[P.LL.ADDITION,P.LL.REMOVAL];j&&(D.push(P.LL.MONITORED),D.push(P.LL.MUTED));var C=(0,s.oi)(),L=C.PAGE_SIZES,T=C.pageSize,k=C.setPageSize,E=C.onPreviousPageClick,S=C.isPreviousPageDisabled,Z=C.onNextPageClick,N=C.isNextPageDisabled,I=C.startRange,A=C.endRange,z=C.pageIndex,M=C.setTotalPages,V=(0,a.z8)({staged_resource_urn:r,page:z,size:T,child_diff_status:D,diff_status:v,search:f}),G=V.isFetching,U=V.isLoading,W=V.data,F=(0,w.G)(null===W||void 0===W?void 0:W.items[0]),X=b({resourceType:F}).columns,q=(0,c.useMemo)((function(){return null!==W&&void 0!==W?W:O}),[W]),H=q.items,Y=q.total,B=q.pages;(0,c.useEffect)((function(){M(B)}),[B,M]);var K=(0,c.useMemo)((function(){return X}),[X]),Q=(0,y.Z)().navigateToDetectionResults,$=F!==h.X.FIELD?function(e){return Q({resourceUrn:e.urn,showFullSchema:j})}:void 0,J=(0,t.b7)({getCoreRowModel:(0,i.sC)(),getGroupedRowModel:(0,i.qe)(),getExpandedRowModel:(0,i.rV)(),getRowId:function(e){var n;return null!==(n=e.name)&&void 0!==n?n:e.urn},columns:K,manualPagination:!0,data:H});return U?(0,m.jsx)(s.I4,{rowHeight:36,numRows:36}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.Q$,{children:(0,m.jsxs)(o.kCb,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"full",children:[(0,m.jsx)(o.xuv,{w:400,flexShrink:0,children:(0,m.jsx)(R.Z,{value:f,onChange:g})}),(0,m.jsxs)(o.kCb,{direction:"row",alignItems:"center",children:[(0,m.jsx)(o.rsf,{size:"sm",isChecked:j,onChange:function(){return p(!j)},colorScheme:"purple","data-testid":"full-schema-toggle"}),(0,m.jsx)(o.xvT,{marginLeft:2,fontSize:"xs",fontWeight:"medium",children:"Show full schema"})]})]})}),(0,m.jsx)(s.ZK,{tableInstance:J,onRowClick:$,emptyTableNotice:(0,m.jsx)(_,{})}),(0,m.jsx)(s.s8,{totalRows:Y,pageSizes:L,setPageSize:k,onPreviousPageClick:E,isPreviousPageDisabled:S||G,onNextPageClick:Z,isNextPageDisabled:N||G,startRange:I,endRange:A})]})}},5071:function(e,n,r){"use strict";r.r(n);r(27378);var t=r(68512),i=r(60709),o=r(30957),u=r(1673),c=r(26609),s=r(24246);n.default=function(){var e=(0,u.Z)(),n=e.resourceUrn,r=e.navigateToDetectionResults;return(0,s.jsxs)(t.Z,{title:"Data detection",mainProps:{padding:"20px 40px 48px"},children:[(0,s.jsx)(o.Z,{parentTitle:"Data detection",parentLink:i.XY,resourceUrn:n,onPathClick:function(e){return r({resourceUrn:e})}}),(0,s.jsx)(c.Z,{resourceUrn:n})]})}},24354:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-discovery/detection/[resourceUrn]",function(){return r(5071)}])}},function(e){e.O(0,[8033,2142,338,5162,5087,9774,2888,179],(function(){return n=24354,e(e.s=n);var n}));var n=e.O();_N_E=n}]);