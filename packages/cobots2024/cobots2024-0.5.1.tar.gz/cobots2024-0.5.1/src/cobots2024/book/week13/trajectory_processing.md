# 궤적 처리

## 시간 매개변수화

모션 플래너는 일반적으로 "경로"만 생성합니다. 즉, 경로와 관련된 타이밍 정보가 없습니다.

MoveIt에는 이러한 경로에 대해 작업하고, 개별 관절에 부과된 최대 속도 및 가속도 제한을 고려하여 적절하게 시간 매개변수화된 궤적을 생성할 수 있는 여러 `궤적 처리` 알고리즘이 포함되어 있습니다.

이러한 제한은 각 로봇에 대해 지정된 특수 `joint_limits.yaml` 설정 파일에서 읽어옵니다. 이 설정 파일은 선택 사항이며 URDF의 속도 또는 가속도 제한을 오버라이드합니다.

2023년 1월 기준으로 권장되는 알고리즘은 `TimeOptimalTrajectoryGeneration`(TOTG)입니다. 이 알고리즘의 주의 사항은 로봇이 정지 상태에서 시작하고 끝나야 한다는 것입니다.

기본적으로 TOTG의 시간 단계(timestep)는 0.1초입니다.

시간 매개변수화의 주요 목적은 다음과 같습니다:

1. **속도와 가속도 제한 준수**: 각 관절에 지정된 최대 속도와 가속도 제한을 준수하도록 경로에 타이밍 정보를 추가합니다. 이를 통해 로봇이 하드웨어 한계 내에서 안전하게 움직일 수 있습니다.

2. **부드러운 움직임 생성**: 적절한 시간 매개변수화는 로봇이 갑작스럽게 시작하거나 멈추지 않고 부드럽게 가속 및 감속할 수 있도록 합니다. 이는 기계적 스트레스를 줄이고 더 자연스러운 움직임을 만듭니다.

3. **동작 지속 시간 예측**: 시간 매개변수화된 궤적을 사용하면 주어진 동작을 완료하는 데 걸리는 시간을 예측할 수 있습니다. 이는 로봇 동작의 타이밍과 협응을 계획할 때 중요합니다.

MoveIt의 궤적 처리 파이프라인은 모션 플래너에서 생성된 경로를 가져와 이를 실행 가능한 로봇 궤적으로 변환하는 데 중요한 역할을 합니다. 이는 경로를 로봇이 실제로 따라갈 수 있는 일련의 시간 기반 관절 위치로 변환함으로써 이루어집니다.
