import{s as ge,f as K,i as ee,n as J,r as pe}from"../chunks/scheduler.b7db4573.js";import{S as ve,i as _e,g as m,s as V,m as Q,h as g,j as E,y as O,c as M,f as h,n as W,k as c,a as L,x as f,z as F,o as le,A as be,B as ce,d as z,t as te,b as we,r as ye,u as ke,v as Ce,w as xe,p as Ee}from"../chunks/index.0c22c5ed.js";function X(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ue(n,t,l){const e=n.slice();return e[6]=t[l],e}function fe(n){let t,l=n[6]+"",e;return{c(){t=m("span"),e=Q(l),this.h()},l(s){t=g(s,"SPAN",{class:!0});var i=E(t);e=W(i,l),i.forEach(h),this.h()},h(){c(t,"class","text-base text-gray-500 inline-block")},m(s,i){L(s,t,i),f(t,e)},p(s,i){i&4&&l!==(l=s[6]+"")&&le(e,l)},d(s){s&&h(t)}}}function Ie(n){let t,l,e,s,i="<",o,u,v=">",d,x,b,y,D,w,r,a,_="Image Title",P,k,C,N,S,R,j,U,se='<span class="text-2xl">×</span>',Z,ne,q=X(n[2]),I=[];for(let T=0;T<q.length;T+=1)I[T]=fe(ue(n,q,T));return{c(){t=m("div"),l=m("div"),e=m("div"),s=m("button"),s.textContent=i,o=V(),u=m("button"),u.textContent=v,d=V(),x=m("div"),b=m("div"),y=m("img"),w=V(),r=m("div"),a=m("div"),a.textContent=_,P=V(),k=m("p"),C=Q(n[1]),N=V(),S=m("p");for(let T=0;T<I.length;T+=1)I[T].c();R=V(),j=m("div"),U=m("button"),U.innerHTML=se,this.h()},l(T){t=g(T,"DIV",{class:!0,id:!0});var A=E(t);l=g(A,"DIV",{class:!0});var p=E(l);e=g(p,"DIV",{class:!0});var H=E(e);s=g(H,"BUTTON",{class:!0,"data-svelte-h":!0}),O(s)!=="svelte-102stel"&&(s.textContent=i),o=M(H),u=g(H,"BUTTON",{class:!0,"data-svelte-h":!0}),O(u)!=="svelte-su7e6r"&&(u.textContent=v),H.forEach(h),d=M(p),x=g(p,"DIV",{class:!0});var G=E(x);b=g(G,"DIV",{class:!0});var oe=E(b);y=g(oe,"IMG",{class:!0,src:!0,alt:!0}),oe.forEach(h),w=M(G),r=g(G,"DIV",{class:!0});var B=E(r);a=g(B,"DIV",{class:!0,"data-svelte-h":!0}),O(a)!=="svelte-158en3n"&&(a.textContent=_),P=M(B),k=g(B,"P",{class:!0});var ae=E(k);C=W(ae,n[1]),ae.forEach(h),N=M(B),S=g(B,"P",{class:!0});var ie=E(S);for(let $=0;$<I.length;$+=1)I[$].l(ie);ie.forEach(h),B.forEach(h),G.forEach(h),R=M(p),j=g(p,"DIV",{class:!0});var re=E(j);U=g(re,"BUTTON",{class:!0,"data-svelte-h":!0}),O(U)!=="svelte-19hmwhn"&&(U.innerHTML=se),re.forEach(h),p.forEach(h),A.forEach(h),this.h()},h(){c(s,"class","absolute left-5 top-1/2 transform -translate-y-1/2 text-white bg-gray-300 hover:bg-gray-400 font-bold rounded-full text-2xl w-12 h-12 opacity-0 group-hover:opacity-100"),c(u,"class","absolute right-5 top-1/2 transform -translate-y-1/2 text-white bg-gray-300 hover:bg-gray-400 font-bold rounded-full text-2xl w-12 h-12 opacity-0 group-hover:opacity-100"),c(e,"class","group"),c(y,"class","h-full w-full object-cover"),K(y.src,D=n[0])||c(y,"src",D),c(y,"alt",n[1]),c(b,"class","flex-none w-full md:w-1/2 h-96 md:h-auto"),c(a,"class","uppercase tracking-wide text-sm text-indigo-600 font-bold"),c(k,"class","block mt-1 text-lg leading-tight font-medium text-black hover:underline"),c(S,"class","mt-2 text-gray-600"),c(r,"class","mt-4 md:mt-0 md:ml-6 overflow-y-auto h-96 md:h-auto"),c(x,"class","flex"),c(U,"class","text-gray-400 hover:text-gray-600"),c(j,"class","absolute top-0 right-0 pt-4 pr-4"),c(l,"class","relative top-10 mx-auto p-10 border w-11/12 max-w-14xl shadow-lg rounded-md bg-white group"),c(t,"class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full"),c(t,"id","my-modal")},m(T,A){L(T,t,A),f(t,l),f(l,e),f(e,s),f(e,o),f(e,u),f(l,d),f(l,x),f(x,b),f(b,y),f(x,w),f(x,r),f(r,a),f(r,P),f(r,k),f(k,C),f(r,N),f(r,S);for(let p=0;p<I.length;p+=1)I[p]&&I[p].m(S,null);f(l,R),f(l,j),f(j,U),Z||(ne=[F(s,"click",function(){ee(n[5])&&n[5].apply(this,arguments)}),F(u,"click",function(){ee(n[4])&&n[4].apply(this,arguments)}),F(U,"click",function(){ee(n[3])&&n[3].apply(this,arguments)})],Z=!0)},p(T,[A]){if(n=T,A&1&&!K(y.src,D=n[0])&&c(y,"src",D),A&2&&c(y,"alt",n[1]),A&2&&le(C,n[1]),A&4){q=X(n[2]);let p;for(p=0;p<q.length;p+=1){const H=ue(n,q,p);I[p]?I[p].p(H,A):(I[p]=fe(H),I[p].c(),I[p].m(S,null))}for(;p<I.length;p+=1)I[p].d(1);I.length=q.length}},i:J,o:J,d(T){T&&h(t),be(I,T),Z=!1,pe(ne)}}}function Te(n,t,l){let{image:e}=t,{title:s}=t,{content:i}=t,{onClose:o}=t,{onNext:u}=t,{onPrevious:v}=t;return n.$$set=d=>{"image"in d&&l(0,e=d.image),"title"in d&&l(1,s=d.title),"content"in d&&l(2,i=d.content),"onClose"in d&&l(3,o=d.onClose),"onNext"in d&&l(4,u=d.onNext),"onPrevious"in d&&l(5,v=d.onPrevious)},[e,s,i,o,u,v]}class Pe extends ve{constructor(t){super(),_e(this,t,Te,Ie,ge,{image:0,title:1,content:2,onClose:3,onNext:4,onPrevious:5})}}function he(n,t,l){const e=n.slice();return e[17]=t[l],e[19]=l,e}function De(n){let t,l="Type something to start searching...";return{c(){t=m("p"),t.textContent=l},l(e){t=g(e,"P",{"data-svelte-h":!0}),O(t)!=="svelte-oa9p43"&&(t.textContent=l)},m(e,s){L(e,t,s)},p:J,d(e){e&&h(t)}}}function Ne(n){let t,l=X(n[1]),e=[];for(let s=0;s<l.length;s+=1)e[s]=de(he(n,l,s));return{c(){t=m("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=g(s,"DIV",{class:!0});var i=E(t);for(let o=0;o<e.length;o+=1)e[o].l(i);i.forEach(h),this.h()},h(){c(t,"class","grid grid-cols-4 gap-4")},m(s,i){L(s,t,i);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null)},p(s,i){if(i&34){l=X(s[1]);let o;for(o=0;o<l.length;o+=1){const u=he(s,l,o);e[o]?e[o].p(u,i):(e[o]=de(u),e[o].c(),e[o].m(t,null))}for(;o<e.length;o+=1)e[o].d(1);e.length=l.length}},d(s){s&&h(t),be(e,s)}}}function Ve(n){let t,l="Loading...";return{c(){t=m("p"),t.textContent=l},l(e){t=g(e,"P",{"data-svelte-h":!0}),O(t)!=="svelte-qdsr2u"&&(t.textContent=l)},m(e,s){L(e,t,s)},p:J,d(e){e&&h(t)}}}function de(n){let t,l,e,s,i,o,u,v=Y(n[17].filepath)+"",d,x,b,y="",D,w,r,a;function _(){return n[9](n[19])}return{c(){t=m("div"),l=m("figure"),e=m("img"),i=V(),o=m("div"),u=m("h2"),d=Q(v),x=V(),b=m("p"),D=Q(y),w=V(),this.h()},l(P){t=g(P,"DIV",{class:!0});var k=E(t);l=g(k,"FIGURE",{class:!0});var C=E(l);e=g(C,"IMG",{class:!0,src:!0,alt:!0}),C.forEach(h),i=M(k),o=g(k,"DIV",{class:!0});var N=E(o);u=g(N,"H2",{class:!0});var S=E(u);d=W(S,v),S.forEach(h),x=M(N),b=g(N,"P",{class:!0});var R=E(b);D=W(R,y),R.forEach(h),N.forEach(h),w=M(k),k.forEach(h),this.h()},h(){c(e,"class","w-full h-48 object-cover"),K(e.src,s=`http://localhost:8080/files/${n[17].filepath}`)||c(e,"src",s),c(e,"alt",""),c(l,"class","px-5 pt-5"),c(u,"class","text-lg font-bold mb-2"),c(b,"class","text-gray-700 line-clamp-5"),c(o,"class","p-4"),c(t,"class","bg-white rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 ease-in-out")},m(P,k){L(P,t,k),f(t,l),f(l,e),f(t,i),f(t,o),f(o,u),f(u,d),f(o,x),f(o,b),f(b,D),f(t,w),r||(a=F(t,"click",_),r=!0)},p(P,k){n=P,k&2&&!K(e.src,s=`http://localhost:8080/files/${n[17].filepath}`)&&c(e,"src",s),k&2&&v!==(v=Y(n[17].filepath)+"")&&le(d,v)},d(P){P&&h(t),r=!1,a()}}}function me(n){let t,l;return t=new Pe({props:{image:`http://localhost:8080/files/${n[1][n[4]].filepath}`,title:Y(n[1][n[4]].filepath),content:"",onClose:n[6],onNext:n[10],onPrevious:n[11]}}),{c(){ye(t.$$.fragment)},l(e){ke(t.$$.fragment,e)},m(e,s){Ce(t,e,s),l=!0},p(e,s){const i={};s&18&&(i.image=`http://localhost:8080/files/${e[1][e[4]].filepath}`),s&18&&(i.title=Y(e[1][e[4]].filepath)),s&18&&(i.onNext=e[10]),s&18&&(i.onPrevious=e[11]),t.$set(i)},i(e){l||(z(t.$$.fragment,e),l=!0)},o(e){te(t.$$.fragment,e),l=!1},d(e){xe(t,e)}}}function Me(n){let t,l,e,s,i,o,u,v='<div class="border-t border-slate-900/5 py-10"><p class="mt-2 text-sm leading-6 text-slate-500">© 2023 Labs Inc. All rights reserved.</p> <div class="mt-2 flex items-center space-x-4 text-sm font-semibold leading-6 text-slate-700"><a href="/privacy-policy">Privacy policy</a> <div class="h-4 w-px bg-slate-500/20"></div> <a href="/changelog">Changelog</a></div></div>',d,x,b;function y(a,_){return a[2]?Ve:a[0]?Ne:De}let D=y(n),w=D(n),r=n[1].length&&n[3]&&me(n);return{c(){t=m("div"),l=m("input"),e=V(),s=m("div"),w.c(),i=V(),r&&r.c(),o=V(),u=m("footer"),u.innerHTML=v,this.h()},l(a){t=g(a,"DIV",{class:!0});var _=E(t);l=g(_,"INPUT",{type:!0,class:!0,placeholder:!0}),_.forEach(h),e=M(a),s=g(a,"DIV",{class:!0});var P=E(s);w.l(P),P.forEach(h),i=M(a),r&&r.l(a),o=M(a),u=g(a,"FOOTER",{class:!0,"data-svelte-h":!0}),O(u)!=="svelte-1p3sa4z"&&(u.innerHTML=v),this.h()},h(){c(l,"type","text"),c(l,"class","input input-bordered w-full my-4 p-2 text-lg border border-gray-500"),c(l,"placeholder","Type to search..."),c(t,"class","container mx-auto my-10"),c(s,"class","container mx-auto"),c(u,"class","mx-auto mt-32 w-full container")},m(a,_){L(a,t,_),f(t,l),ce(l,n[0]),L(a,e,_),L(a,s,_),w.m(s,null),L(a,i,_),r&&r.m(a,_),L(a,o,_),L(a,u,_),d=!0,x||(b=[F(window,"keydown",n[7]),F(l,"input",n[8])],x=!0)},p(a,[_]){_&1&&l.value!==a[0]&&ce(l,a[0]),D===(D=y(a))&&w?w.p(a,_):(w.d(1),w=D(a),w&&(w.c(),w.m(s,null))),a[1].length&&a[3]?r?(r.p(a,_),_&10&&z(r,1)):(r=me(a),r.c(),z(r,1),r.m(o.parentNode,o)):r&&(Ee(),te(r,1,1,()=>{r=null}),we())},i(a){d||(z(r),d=!0)},o(a){te(r),d=!1},d(a){a&&(h(t),h(e),h(s),h(i),h(o),h(u)),w.d(),r&&r.d(a),x=!1,pe(b)}}}const Le=300;function Y(n){let t=n.split("/");return t[t.length-1]}function Se(n,t,l){let e="",s=[],i=!1,o,u=!1,v=0;async function d(C){l(2,i=!0);try{const N=await fetch(`http://localhost:8080/search?q=${encodeURIComponent(C)}`);if(!N.ok)throw new Error("Network response was not ok");l(1,s=await N.json()),console.log(s)}catch{}finally{l(2,i=!1)}}function x(C){clearTimeout(o),o=setTimeout(()=>{d(C)},Le)}function b(C){l(3,u=!0),l(4,v=C),w()}function y(){l(3,u=!1),r()}function D(C){u&&(C.key==="Escape"?y():C.key==="ArrowRight"?l(4,v=(v+1)%s.length):C.key==="ArrowLeft"&&l(4,v=(v-1+s.length)%s.length))}const w=()=>{document.body.style.overflow="hidden"},r=()=>{document.body.style.overflow=""};function a(){e=this.value,l(0,e)}const _=C=>b(C),P=()=>b((v+1)%s.length),k=()=>b((v-1+s.length)%s.length);return n.$$.update=()=>{n.$$.dirty&1&&(e.trim()?x(e):l(1,s=[]))},[e,s,i,u,v,b,y,D,a,_,P,k]}class He extends ve{constructor(t){super(),_e(this,t,Se,Me,ge,{})}}export{He as component};
