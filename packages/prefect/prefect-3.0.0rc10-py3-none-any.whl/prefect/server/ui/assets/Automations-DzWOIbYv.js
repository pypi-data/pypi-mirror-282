import{d as h,W as b,i,o as s,c as m,g as o,l as t,v as c,m as e,C as A,x as v,n as T,p as U,z as d,a as C,q as $,D as w,A as z,F as k,B as E,t as F,f as y,E as I,G as S,H as W,V as q,I as G,P as H}from"./index-DmG-an2w.js";import{u as L}from"./usePageTitle-dvSfGJr8.js";import{u as j}from"./usePrefectApi-CI0eU1Fh.js";const J={class:"automation-card__header"},K={class:"automation-card__header-actions"},M={key:0,class:"automation-card__description"},O=c("span",{class:"automation-card__label"},"Trigger",-1),Q={class:"automation-card__label"},R=h({__name:"AutomationCard",props:{automation:{}},emits:["update"],setup(B,{emit:_}){const l=_,p=b();return(a,n)=>{const f=i("p-link"),u=i("p-content"),g=i("p-card");return s(),m(g,{class:"automation-card"},{default:o(()=>[t(u,null,{default:o(()=>[t(u,{secondary:""},{default:o(()=>[c("div",J,[t(f,{class:"automation-card__name",to:e(p).automation(a.automation.id)},{default:o(()=>[A(v(a.automation.name),1)]),_:1},8,["to"]),c("div",K,[t(e(T),{automation:a.automation,onUpdate:n[0]||(n[0]=r=>l("update"))},null,8,["automation"]),t(e(U),{automation:a.automation,onDelete:n[1]||(n[1]=r=>l("update"))},null,8,["automation"])])]),a.automation.description?(s(),d("p",M,v(a.automation.description),1)):C("",!0)]),_:1}),t(u,{secondary:""},{default:o(()=>[O,t(e($),{trigger:a.automation.trigger},null,8,["trigger"])]),_:1}),t(u,{secondary:""},{default:o(()=>[c("span",Q,v(e(w)("Action",a.automation.actions.length)),1),(s(!0),d(k,null,z(a.automation.actions,r=>(s(),m(g,{key:r.id},{default:o(()=>[t(e(E),{action:r},null,8,["action"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}}}),x=h({__name:"Automations",setup(B){const _=b();L("Automations");const l=[{text:"Automations"}],p=j(),a=F(p.automations.getAutomations),n=y(()=>a.response??[]),f=y(()=>a.executed),u=y(()=>n.value.length===0);return(g,r)=>{const V=i("p-button"),P=i("p-virtual-scroller"),D=i("p-layout-default");return s(),m(D,{class:"automations"},{header:o(()=>[t(e(q),{crumbs:l},I({"after-crumbs":o(()=>[t(V,{size:"sm",icon:"PlusIcon",to:e(_).automationCreate()},null,8,["to"])]),_:2},[u.value?void 0:{name:"actions",fn:o(()=>[t(e(S),{to:e(W).docs.automations},{default:o(()=>[A(" Documentation ")]),_:1},8,["to"])]),key:"0"}]),1024)]),default:o(()=>[f.value?(s(),d(k,{key:0},[u.value?(s(),m(e(G),{key:0})):(s(),d(k,{key:1},[t(e(H),{count:n.value.length,label:"automation"},null,8,["count"]),t(P,{items:n.value,class:"automations-list"},{default:o(({item:N})=>[t(R,{automation:N,onUpdate:e(a).refresh},null,8,["automation","onUpdate"])]),_:1},8,["items"])],64))],64)):C("",!0)]),_:1})}}});export{x as default};
//# sourceMappingURL=Automations-DzWOIbYv.js.map
